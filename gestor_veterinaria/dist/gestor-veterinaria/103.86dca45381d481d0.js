"use strict";(self.webpackChunkGestor_veterinaria=self.webpackChunkGestor_veterinaria||[]).push([[103],{103:(A,m,n)=>{n.r(m),n.d(m,{AuthModule:()=>Z});var p=n(9808),l=n(1083),f=n(6518),e=n(3075),v=n(5226),d=n.n(v),a=(()=>{return(o=a||(a={})).LOGIN_ERR="Error Login",o.LOGIN_SUCCESS="Login Success",a;var o})(),t=n(5e3),h=n(9019);let y=(()=>{class o{constructor(){this.secretKey=h.N.secretKey}encrypt(r){}decrypt(r){}}return o.\u0275fac=function(r){return new(r||o)},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),g=(()=>{class o{constructor(r,u,i,c){this.authService=r,this.fb=u,this.router=i,this.cry=c,this.usuarioN="",this.password="",this.miForm=this.fb.group({usuarioN:["",[e.kI.required,e.kI.minLength(3)]],password:["",e.kI.required,e.kI.minLength(6)]})}ngOnInit(){}login(){var r,u;this.authService.login(null===(r=this.miForm.get("usuarioN"))||void 0===r?void 0:r.value,null===(u=this.miForm.get("password"))||void 0===u?void 0:u.value).subscribe(i=>{if(i.status)d().fire({icon:"error",title:i.error.errors[0].param,text:i.error.errors[0].msg});else if(i.error)d().fire({icon:"error",title:"Ha ocurrido un erro",text:i.name});else if(i){this._UserL=this.authService.userRes,localStorage.setItem("x-token",this._UserL.token);let c=this._UserL.id.toString();localStorage.setItem("x-vetspa",c),d().fire({title:a.LOGIN_SUCCESS,text:`Bienvenido ${this._UserL.usuario}`}).then(C=>{this.router.navigate(["/"])})}})}validaToken(){this.authService.validToken().subscribe(r=>{})}}return o.\u0275fac=function(r){return new(r||o)(t.Y36(f.e),t.Y36(e.qu),t.Y36(l.F0),t.Y36(y))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-login"]],features:[t._Bn([f.e])],decls:19,vars:1,consts:[[1,"container","overflow-hidden"],[1,"row","justify-content-md-center"],["src","../../../../assets/emp.jpeg","alt","...",1,"rounded"],[1,"row","p-2"],[1,"col"],[1,"form-control-sm",3,"formGroup","ngSubmit"],[1,"form-floating","mb-3"],["type","text","id","floatingInput","formControlName","usuarioN","placeholder","tu nombre de usuario",1,"form-control"],["for","floatingInput"],[1,"form-floating"],["type","password","id","floatingPassword","formControlName","password","placeholder","Password",1,"form-control"],["for","floatingPassword"],[1,"form-floating","m-3","text-center","w-10"],["type","submit",1,"btn","btn-outline-primary","start-50",2,"width","30%"]],template:function(r,u){1&r&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"img",2),t.qZA(),t.TgZ(3,"div",3),t._UZ(4,"div",4),t.TgZ(5,"div",4)(6,"form",5),t.NdJ("ngSubmit",function(){return u.login()}),t.TgZ(7,"div",6),t._UZ(8,"input",7),t.TgZ(9,"label",8),t._uU(10,"Usuario"),t.qZA()(),t.TgZ(11,"div",9),t._UZ(12,"input",10),t.TgZ(13,"label",11),t._uU(14,"Password"),t.qZA()(),t.TgZ(15,"div",12)(16,"button",13),t._uU(17,"Login"),t.qZA()()()(),t._UZ(18,"div",4),t.qZA()()),2&r&&(t.xp6(6),t.Q6J("formGroup",u.miForm))},directives:[e._Y,e.JL,e.sg,e.Fj,e.JJ,e.u],styles:[""]}),o})();const S=[{path:"",component:g},{path:"login",component:g}];let L=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[l.Bz.forChild(S)],l.Bz]}),o})(),Z=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[p.ez,L,e.UX]]}),o})()}}]);