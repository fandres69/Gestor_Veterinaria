"use strict";(self.webpackChunkGestor_veterinaria=self.webpackChunkGestor_veterinaria||[]).push([[126],{5126:(_e,y,v)=>{v.r(y),v.d(y,{StockManagerModule:()=>fe});var m=v(9808),F=v(1083),t=v(5e3);let N=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-stock-manager-panel"]],decls:199,vars:0,consts:[[1,"container"],[1,"text-center"],[1,"row"],[1,"col-2"],["id","nav-tab","role","tablist",1,"nav","nav-tabs"],["id","nav-producto-tab","data-bs-toggle","tab","data-bs-target","#nav-producto","type","button","role","tab","aria-controls","nav-producto","aria-selected","true",1,"nav-link","active"],[1,"material-icons","bi","md-48"],["id","nav-inventario-tab","data-bs-toggle","tab","data-bs-target","#nav-inventario","type","button","role","tab","aria-controls","nav-inventario","aria-selected","false",1,"nav-link"],["id","nav-ingresos-tab","data-bs-toggle","tab","data-bs-target","#nav-ingresos","type","button","role","tab","aria-controls","nav-ingresos","aria-selected","false",1,"nav-link"],["id","nav-servicios-tab","data-bs-toggle","tab","data-bs-target","#nav-servicios","type","button","role","tab","aria-controls","nav-servicios","aria-selected","false",1,"nav-link"],["id","nav-tabContent",1,"tab-content"],["id","nav-producto","role","tabpanel","aria-labelledby","nav-producto-tab",1,"tab-pane","fade","show","active"],[1,"row","m-1"],["routerLink","./createProducto",1,"btn","btn-outline-dark"],[1,"col-1"],[1,"material-icons","bi"],[1,"col","text-center"],[1,"float-md-start"],["routerLink","./findProducto",1,"btn","btn-outline-dark"],["routerLink","./updateProducto",1,"btn","btn-outline-dark"],["routerLink","./deleteProducto",1,"btn","btn-outline-dark"],["id","nav-inventario","role","tabpanel","aria-labelledby","nav-inventario-tab",1,"tab-pane","fade"],[1,""],["routerLink","./createInventario",1,"btn","btn-outline-dark"],["routerLink","./findInventario",1,"btn","btn-outline-dark"],["routerLink","./updateInventario",1,"btn","btn-outline-dark"],["routerLink","./deleteInventario",1,"btn","btn-outline-dark"],["id","nav-ingresos","role","tabpanel","aria-labelledby","nav-ingresos-tab",1,"tab-pane","fade"],["routerLink","./createStock",1,"btn","btn-outline-dark"],["routerLink","./findStock",1,"btn","btn-outline-dark"],["routerLink","./updateStock",1,"btn","btn-outline-dark"],["routerLink","./deleteStock",1,"btn","btn-outline-dark"],["id","nav-servicios","role","tabpanel","aria-labelledby","nav-servicios-tab",1,"tab-pane","fade"],["routerLink","./createServicio",1,"btn","btn-outline-dark"],["routerLink","./findServicio",1,"btn","btn-outline-dark"],["routerLink","./updateServicio",1,"btn","btn-outline-dark"],["routerLink","./deleteServicio",1,"btn","btn-outline-dark"],[1,"col"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"h1",1),t._uU(2,"Administraci\xf3n productos y servicios"),t.qZA(),t._UZ(3,"hr"),t.TgZ(4,"div",2)(5,"div",3)(6,"nav")(7,"div",4)(8,"button",5)(9,"span",6),t._uU(10,"inventory"),t.qZA()(),t.TgZ(11,"button",7)(12,"span",6),t._uU(13,"view_in_ar"),t.qZA()(),t.TgZ(14,"button",8)(15,"span",6),t._uU(16,"auto_stories"),t.qZA()(),t.TgZ(17,"button",9)(18,"span",6),t._uU(19,"supervised_user_circle"),t.qZA()()()(),t.TgZ(20,"div",10)(21,"div",11)(22,"div")(23,"div",12)(24,"button",13)(25,"div",2)(26,"div",14)(27,"span",15),t._uU(28,"add"),t.qZA()(),t.TgZ(29,"div",16)(30,"span",17),t._uU(31,"Agregar"),t._UZ(32,"br"),t._uU(33,"producto"),t.qZA()()()()(),t.TgZ(34,"div",12)(35,"button",18)(36,"div",2)(37,"div",14)(38,"span",15),t._uU(39,"search"),t.qZA()(),t.TgZ(40,"div",16)(41,"span",17),t._uU(42,"Buscar"),t._UZ(43,"br"),t._uU(44,"producto"),t.qZA()()()()(),t.TgZ(45,"div",12)(46,"button",19)(47,"div",2)(48,"div",14)(49,"span",15),t._uU(50,"update"),t.qZA()(),t.TgZ(51,"div",16)(52,"span",17),t._uU(53,"Actualizar"),t._UZ(54,"br"),t._uU(55,"producto"),t.qZA()()()()(),t.TgZ(56,"div",12)(57,"button",20)(58,"div",2)(59,"div",14)(60,"span",15),t._uU(61,"remove"),t.qZA()(),t.TgZ(62,"div",16)(63,"span",17),t._uU(64,"Eliminar"),t._UZ(65,"br"),t._uU(66,"producto"),t.qZA()()()()()()(),t.TgZ(67,"div",21)(68,"div",22)(69,"div",12)(70,"button",23)(71,"div",2)(72,"div",14)(73,"span",15),t._uU(74,"add"),t.qZA()(),t.TgZ(75,"div",16)(76,"span",17),t._uU(77,"Agregar"),t._UZ(78,"br"),t._uU(79,"inventario"),t.qZA()()()()(),t.TgZ(80,"div",12)(81,"button",24)(82,"div",2)(83,"div",14)(84,"span",15),t._uU(85,"search"),t.qZA()(),t.TgZ(86,"div",16)(87,"span",17),t._uU(88,"Buscar"),t._UZ(89,"br"),t._uU(90,"inventario"),t.qZA()()()()(),t.TgZ(91,"div",12)(92,"button",25)(93,"div",2)(94,"div",14)(95,"span",15),t._uU(96,"update"),t.qZA()(),t.TgZ(97,"div",16)(98,"span",17),t._uU(99,"Actualizar"),t._UZ(100,"br"),t._uU(101,"inventario"),t.qZA()()()()(),t.TgZ(102,"div",12)(103,"button",26)(104,"div",2)(105,"div",14)(106,"span",15),t._uU(107,"remove"),t.qZA()(),t.TgZ(108,"div",16)(109,"span",17),t._uU(110,"Eliminar"),t._UZ(111,"br"),t._uU(112,"inventario"),t.qZA()()()()()()(),t.TgZ(113,"div",27)(114,"div",22)(115,"div",12)(116,"button",28)(117,"div",2)(118,"div",14)(119,"span",15),t._uU(120,"add"),t.qZA()(),t.TgZ(121,"div",16)(122,"span",17),t._uU(123,"Agregar ingreso inventario"),t.qZA()()()()(),t.TgZ(124,"div",12)(125,"button",29)(126,"div",2)(127,"div",14)(128,"span",15),t._uU(129,"search"),t.qZA()(),t.TgZ(130,"div",16)(131,"span",17),t._uU(132,"Buscar ingreso inventario"),t.qZA()()()()(),t.TgZ(133,"div",12)(134,"button",30)(135,"div",2)(136,"div",14)(137,"span",15),t._uU(138,"update"),t.qZA()(),t.TgZ(139,"div",16)(140,"span",17),t._uU(141,"Actualizar ingreso inventario"),t.qZA()()()()(),t.TgZ(142,"div",12)(143,"button",31)(144,"div",2)(145,"div",14)(146,"span",15),t._uU(147,"remove"),t.qZA()(),t.TgZ(148,"div",16)(149,"span",17),t._uU(150,"Eliminar ingreso inventario"),t.qZA()()()()()()(),t.TgZ(151,"div",32)(152,"div",22)(153,"div",12)(154,"button",33)(155,"div",2)(156,"div",14)(157,"span",15),t._uU(158,"add"),t.qZA()(),t.TgZ(159,"div",16)(160,"span",17),t._uU(161,"Agregar"),t._UZ(162,"br"),t._uU(163,"servicio"),t.qZA()()()()(),t.TgZ(164,"div",12)(165,"button",34)(166,"div",2)(167,"div",14)(168,"span",15),t._uU(169,"search"),t.qZA()(),t.TgZ(170,"div",16)(171,"span",17),t._uU(172,"Buscar"),t._UZ(173,"br"),t._uU(174,"servicio"),t.qZA()()()()(),t.TgZ(175,"div",12)(176,"button",35)(177,"div",2)(178,"div",14)(179,"span",15),t._uU(180,"update"),t.qZA()(),t.TgZ(181,"div",16)(182,"span",17),t._uU(183,"Actualizar"),t._UZ(184,"br"),t._uU(185,"servicio"),t.qZA()()()()(),t.TgZ(186,"div",12)(187,"button",36)(188,"div",2)(189,"div",14)(190,"span",15),t._uU(191,"remove"),t.qZA()(),t.TgZ(192,"div",16)(193,"span",17),t._uU(194,"Eliminar"),t._UZ(195,"br"),t._uU(196,"servicio"),t.qZA()()()()()()()()(),t.TgZ(197,"div",37),t._UZ(198,"router-outlet"),t.qZA()()())},directives:[F.rH,F.lC],encapsulation:2}),e})();var p=v(4775),r=v(3075),J=v(5226),u=v.n(J),k=v(8382),Z=v(7553);function S(e,s){1&e&&(t.TgZ(0,"span",16),t._uU(1,"Este campo es obligatorio, mas de 3 caracteres"),t.qZA())}function P(e,s){if(1&e&&(t.TgZ(0,"option",17),t._uU(1),t.qZA()),2&e){const o=s.$implicit;t.s9C("value",o.codigo),t.xp6(1),t.Oqu(o.Ciudad)}}function O(e,s){1&e&&(t.TgZ(0,"span",16),t._uU(1,"Este campo es obligatorio, mas de 3 caracteres"),t.qZA())}function M(e,s){1&e&&(t.TgZ(0,"span",16),t._uU(1,"Este campo es obligatorio, m\xednimo 1"),t.qZA())}function w(e,s){1&e&&(t.TgZ(0,"span",16),t._uU(1,"Este campo es obligatorio, mas de 3 caracteres"),t.qZA())}let Q=(()=>{class e{constructor(o,i,n){this.fb=o,this.dataM=i,this.smgService=n,this.miForm=this.fb.group({producto:["",[r.kI.required,r.kI.minLength(3)]],ciudad:["11001",[r.kI.required]],presentacion:["",[r.kI.required,r.kI.minLength(3)]],unEmpaque:[0,[r.kI.required,r.kI.min(1)]],descripcion:["",[r.kI.required,r.kI.minLength(3)]]})}ngOnInit(){this.loadCiudades()}loadCiudades(){this.dataM.getAllCities().subscribe(o=>{o.ciudades&&(this.ciudadesL=o.ciudades[0])})}ValidaCampo(o){return this.miForm.controls[o].errors&&this.miForm.controls[o].touched}crearProducto(){var o,i,n,a,c;if(this.miForm.invalid)return void u().fire({icon:"info",title:"Oops...",text:"Hay cosas por corregir"}).then(l=>{this.miForm.markAllAsTouched()});const d={producto:null===(o=this.miForm.get("producto"))||void 0===o?void 0:o.value,ciudad:null===(i=this.miForm.get("ciudad"))||void 0===i?void 0:i.value,presentacion:null===(n=this.miForm.get("presentacion"))||void 0===n?void 0:n.value,unEmpaque:null===(a=this.miForm.get("unEmpaque"))||void 0===a?void 0:a.value,descripcion:null===(c=this.miForm.get("descripcion"))||void 0===c?void 0:c.value};this.smgService.cProduct(d).subscribe(l=>{if(l.error){const h=l.error.errors[0].msg,g=l.error.errors[0].param;u().fire({icon:"error",title:"Oops..."+g,text:h})}else u().fire({icon:"success",title:"Creaci\xf3n correcta",text:l.statusDescription}).then(h=>{this.miForm.reset()})})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(r.qu),t.Y36(k.m),t.Y36(Z.G))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-productos"]],decls:35,vars:6,consts:[[1,"container"],[1,"container","form-control","form-floating"],["action","",3,"formGroup"],[1,"form-floating","m-3"],["type","text","id","floatingInput","placeholder","Productos","formControlName","producto",1,"form-control"],["for","floatingInput"],["class","form-text text-danger",4,"ngIf"],["id","ciudad","formControlName","ciudad",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["for","tipodocumento"],["type","text","id","floatingInput","placeholder","Presentacion","formControlName","presentacion",1,"form-control"],["type","number","id","floatingInput","placeholder","Unidades X empaque","formControlName","unEmpaque",1,"form-control"],["type","text","id","floatingInput","placeholder","Descripci\xf3n","formControlName","descripcion",1,"form-control"],[1,"form-floating","m-5","p-1"],[1,"float-md-end"],[1,"btn","btn-outline-primary",3,"click"],[1,"form-text","text-danger"],[3,"value"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"h1"),t._uU(2,"Creaci\xf3n de Productos"),t.qZA(),t._UZ(3,"hr"),t.TgZ(4,"div",1)(5,"form",2)(6,"div",3),t._UZ(7,"input",4),t.TgZ(8,"label",5),t._uU(9,"Producto"),t.qZA(),t.YNc(10,S,2,0,"span",6),t.qZA(),t.TgZ(11,"div",3)(12,"select",7),t.YNc(13,P,2,2,"option",8),t.qZA(),t.TgZ(14,"label",9),t._uU(15,"Ciudad"),t.qZA()(),t.TgZ(16,"div",3),t._UZ(17,"input",10),t.TgZ(18,"label",5),t._uU(19,"Presentaci\xf3n"),t.qZA(),t.YNc(20,O,2,0,"span",6),t.qZA(),t.TgZ(21,"div",3),t._UZ(22,"input",11),t.TgZ(23,"label",5),t._uU(24,"Unidades X empaque"),t.qZA(),t.YNc(25,M,2,0,"span",6),t.qZA(),t.TgZ(26,"div",3),t._UZ(27,"input",12),t.TgZ(28,"label",5),t._uU(29,"Descripci\xf3n"),t.qZA(),t.YNc(30,w,2,0,"span",6),t.qZA(),t.TgZ(31,"div",13)(32,"div",14)(33,"button",15),t.NdJ("click",function(){return i.crearProducto()}),t._uU(34,"Guardar"),t.qZA()()()()()()),2&o&&(t.xp6(5),t.Q6J("formGroup",i.miForm),t.xp6(5),t.Q6J("ngIf",i.ValidaCampo("producto")),t.xp6(3),t.Q6J("ngForOf",i.ciudadesL),t.xp6(7),t.Q6J("ngIf",i.ValidaCampo("presentacion")),t.xp6(5),t.Q6J("ngIf",i.ValidaCampo("unEmpaque")),t.xp6(5),t.Q6J("ngIf",i.ValidaCampo("descripcion")))},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,m.O5,r.EJ,m.sg,r.YN,r.Kr,r.wV],encapsulation:2}),e})();var I=v(4004),C=v(8372),f=v(7322),b=v(7531),_=v(3092),x=v(508),T=v(7423);function L(e,s){if(1&e){const o=t.EpF();t.TgZ(0,"mat-option",9),t.NdJ("click",function(){const a=t.CHM(o).$implicit;return t.oxw().selectForQuery(a)}),t._uU(1),t.qZA()}if(2&e){const o=s.$implicit;t.Q6J("value",o.producto),t.xp6(1),t.hij(" ",o.producto," ")}}function V(e,s){1&e&&(t.TgZ(0,"span",21),t._uU(1,"Este campo es obligatorio, mas de 3 caracteres"),t.qZA())}function Y(e,s){if(1&e&&(t.TgZ(0,"option",22),t._uU(1),t.qZA()),2&e){const o=s.$implicit;t.s9C("value",o.codigo),t.xp6(1),t.Oqu(o.Ciudad)}}function E(e,s){1&e&&(t.TgZ(0,"span",21),t._uU(1,"Este campo es obligatorio, mas de 3 caracteres"),t.qZA())}function D(e,s){1&e&&(t.TgZ(0,"span",21),t._uU(1,"Este campo es obligatorio, m\xednimo 1"),t.qZA())}function H(e,s){1&e&&(t.TgZ(0,"span",21),t._uU(1,"Este campo es obligatorio, mas de 3 caracteres"),t.qZA())}function G(e,s){if(1&e&&(t.TgZ(0,"form",10)(1,"div",11),t._UZ(2,"input",12),t.TgZ(3,"label",13),t._uU(4,"Producto"),t.qZA(),t.YNc(5,V,2,0,"span",14),t.qZA(),t.TgZ(6,"div",11)(7,"select",15),t.YNc(8,Y,2,2,"option",16),t.qZA(),t.TgZ(9,"label",17),t._uU(10,"Ciudad"),t.qZA()(),t.TgZ(11,"div",11),t._UZ(12,"input",18),t.TgZ(13,"label",13),t._uU(14,"Presentaci\xf3n"),t.qZA(),t.YNc(15,E,2,0,"span",14),t.qZA(),t.TgZ(16,"div",11),t._UZ(17,"input",19),t.TgZ(18,"label",13),t._uU(19,"Unidades X empaque"),t.qZA(),t.YNc(20,D,2,0,"span",14),t.qZA(),t.TgZ(21,"div",11),t._UZ(22,"input",20),t.TgZ(23,"label",13),t._uU(24,"Descripci\xf3n"),t.qZA(),t.YNc(25,H,2,0,"span",14),t.qZA()()),2&e){const o=t.oxw();t.Q6J("formGroup",o.miForm),t.xp6(5),t.Q6J("ngIf",o.ValidaCampo("producto")),t.xp6(3),t.Q6J("ngForOf",o.ciudadesL),t.xp6(7),t.Q6J("ngIf",o.ValidaCampo("presentacion")),t.xp6(5),t.Q6J("ngIf",o.ValidaCampo("unEmpaque")),t.xp6(5),t.Q6J("ngIf",o.ValidaCampo("descripcion"))}}let z=(()=>{class e{constructor(o,i,n){this.fb=o,this.smgService=i,this.dataM=n,this.myControl=new r.NI,this.criterio="",this.productosO=[],this.forQuery=!1,this.forLoad=!1,this.editar=!1,this.miForm=this.fb.group({producto:["",[r.kI.required,r.kI.minLength(3)]],ciudad:["11001",[r.kI.required]],presentacion:["",[r.kI.required,r.kI.minLength(3)]],unEmpaque:[0,[r.kI.required,r.kI.min(1)]],descripcion:["",[r.kI.required,r.kI.minLength(3)]]})}ngOnInit(){this.limpiarInfo(),this.loadCiudades(),this.filteredOptions=this.myControl.valueChanges.pipe((0,I.U)(o=>this._filter(o)))}_filter(o){(0,C.b)(200),""!=this.criterio&&this.smgService.getProducts(this.criterio).subscribe(n=>{n.error&&(this.productosO=[]),this.productosO=n.productos[0]});const i=o.toLowerCase();return 0===this.productosO.length?[{producto:"No hay coincidencias"}]:this.productosO.filter(n=>{var a;return null===(a=n.producto)||void 0===a?void 0:a.toLowerCase().includes(i)})||{nombre:"No hay coincidencias"}}selectForQuery(o){this.forQuery=!0,localStorage.setItem("search",JSON.stringify(o)),this.selectedItem=JSON.parse(localStorage.getItem("search")||"")}limpiarInfo(){this.selectedItem={},this.forLoad=!1,this.forQuery=!1,localStorage.removeItem("search"),this.miForm.reset(),this.miForm.disable(),this.editar=!1}loadInfo(){var o,i,n,a,c;this.forQuery?(this.selectedItem=JSON.parse(localStorage.getItem("search")||""),null===(o=this.miForm.get("producto"))||void 0===o||o.setValue(this.selectedItem.producto),null===(i=this.miForm.get("ciudad"))||void 0===i||i.setValue(this.selectedItem.ciudad),null===(n=this.miForm.get("presentacion"))||void 0===n||n.setValue(this.selectedItem.presentacion),null===(a=this.miForm.get("unEmpaque"))||void 0===a||a.setValue(this.selectedItem.unEmpaque),null===(c=this.miForm.get("descripcion"))||void 0===c||c.setValue(this.selectedItem.descripcion),this.miForm.disable(),this.forLoad=!0):u().fire({text:"No has seleccionado un producto aun",icon:"warning"})}loadCiudades(){this.dataM.getAllCities().subscribe(o=>{o.ciudades&&(this.ciudadesL=o.ciudades[0])})}ValidaCampo(o){return this.miForm.controls[o].errors&&this.miForm.controls[o].touched}editable(){this.editar=!0,this.miForm.enable()}cancelar(){this.editar=!1,this.miForm.reset(),this.limpiarInfo()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(r.qu),t.Y36(Z.G),t.Y36(k.m))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-find-producto"]],decls:18,vars:7,consts:[[1,"container"],[1,"example-form","form-floating","p-2","m-2"],[1,"m-3","example-full-width"],["type","text","placeholder","","aria-label","Criterio de b\xfasqueda","matInput","",1,"example-full-width",3,"formControl","matAutocomplete","ngModel","ngModelChange","focus"],[1,"example-full-width"],["auto","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],["mat-stroked-button","","color","primary",1,"m-2",3,"click"],["action","",3,"formGroup",4,"ngIf"],[3,"value","click"],["action","",3,"formGroup"],[1,"form-floating","m-3"],["type","text","id","floatingInput","placeholder","Productos","formControlName","producto",1,"form-control"],["for","floatingInput"],["class","form-text text-danger",4,"ngIf"],["id","ciudad","formControlName","ciudad",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["for","tipodocumento"],["type","text","id","floatingInput","placeholder","Presentacion","formControlName","presentacion",1,"form-control"],["type","number","id","floatingInput","placeholder","Unidades X empaque","formControlName","unEmpaque",1,"form-control"],["type","text","id","floatingInput","placeholder","Descripci\xf3n","formControlName","descripcion",1,"form-control"],[1,"form-text","text-danger"],[3,"value"]],template:function(o,i){if(1&o&&(t.TgZ(0,"div",0)(1,"h1"),t._uU(2,"B\xfasqueda de productos"),t.qZA(),t._UZ(3,"hr"),t.TgZ(4,"div",0)(5,"form",1)(6,"mat-form-field",2)(7,"mat-label"),t._uU(8,"Criterio de b\xfasqueda"),t.qZA(),t.TgZ(9,"input",3),t.NdJ("ngModelChange",function(a){return i.criterio=a})("focus",function(){return i.limpiarInfo()}),t.qZA(),t.TgZ(10,"mat-autocomplete",4,5),t.YNc(12,L,2,2,"mat-option",6),t.ALo(13,"async"),t.qZA()(),t.TgZ(14,"button",7),t.NdJ("click",function(){return i.loadInfo()}),t._uU(15,"Visualizar"),t.qZA()()(),t.TgZ(16,"div",0),t.YNc(17,G,26,6,"form",8),t.qZA()()),2&o){const n=t.MAs(11);t.xp6(9),t.Q6J("formControl",i.myControl)("matAutocomplete",n)("ngModel",i.criterio),t.xp6(3),t.Q6J("ngForOf",t.lcZ(13,5,i.filteredOptions)),t.xp6(5),t.Q6J("ngIf",i.forLoad)}},directives:[r._Y,r.JL,r.F,f.KE,f.hX,b.Nt,r.Fj,_.ZL,r.JJ,r.oH,_.XC,m.sg,x.ey,T.lW,m.O5,r.sg,r.u,r.EJ,r.YN,r.Kr,r.wV],pipes:[m.Ov],styles:[".example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}"]}),e})();function X(e,s){if(1&e){const o=t.EpF();t.TgZ(0,"mat-option",10),t.NdJ("click",function(){const a=t.CHM(o).$implicit;return t.oxw().selectForQuery(a)}),t._uU(1),t.qZA()}if(2&e){const o=s.$implicit;t.Q6J("value",o.producto),t.xp6(1),t.hij(" ",o.producto," ")}}function $(e,s){if(1&e){const o=t.EpF();t.TgZ(0,"button",11),t.NdJ("click",function(){return t.CHM(o),t.oxw().editable()}),t._uU(1,"Eliminar"),t.qZA()}}function K(e,s){1&e&&(t.TgZ(0,"span",24),t._uU(1,"Este campo es obligatorio, mas de 3 caracteres"),t.qZA())}function j(e,s){if(1&e&&(t.TgZ(0,"option",25),t._uU(1),t.qZA()),2&e){const o=s.$implicit;t.s9C("value",o.codigo),t.xp6(1),t.Oqu(o.Ciudad)}}function W(e,s){1&e&&(t.TgZ(0,"span",24),t._uU(1,"Este campo es obligatorio, mas de 3 caracteres"),t.qZA())}function B(e,s){1&e&&(t.TgZ(0,"span",24),t._uU(1,"Este campo es obligatorio, m\xednimo 1"),t.qZA())}function R(e,s){1&e&&(t.TgZ(0,"span",24),t._uU(1,"Este campo es obligatorio, mas de 3 caracteres"),t.qZA())}function tt(e,s){if(1&e){const o=t.EpF();t.TgZ(0,"div",26)(1,"div",27)(2,"button",28),t.NdJ("click",function(){return t.CHM(o),t.oxw(2).deleteProducto()}),t._uU(3,"Eliminar"),t.qZA()(),t.TgZ(4,"div",27)(5,"button",29),t.NdJ("click",function(){return t.CHM(o),t.oxw(2).cancelar()}),t._uU(6,"Cancelar"),t.qZA()()()}}function ot(e,s){if(1&e&&(t.TgZ(0,"form",12)(1,"div",13),t._UZ(2,"input",14),t.TgZ(3,"label",15),t._uU(4,"Producto"),t.qZA(),t.YNc(5,K,2,0,"span",16),t.qZA(),t.TgZ(6,"div",13)(7,"select",17),t.YNc(8,j,2,2,"option",18),t.qZA(),t.TgZ(9,"label",19),t._uU(10,"Ciudad"),t.qZA()(),t.TgZ(11,"div",13),t._UZ(12,"input",20),t.TgZ(13,"label",15),t._uU(14,"Presentaci\xf3n"),t.qZA(),t.YNc(15,W,2,0,"span",16),t.qZA(),t.TgZ(16,"div",13),t._UZ(17,"input",21),t.TgZ(18,"label",15),t._uU(19,"Unidades X empaque"),t.qZA(),t.YNc(20,B,2,0,"span",16),t.qZA(),t.TgZ(21,"div",13),t._UZ(22,"input",22),t.TgZ(23,"label",15),t._uU(24,"Descripci\xf3n"),t.qZA(),t.YNc(25,R,2,0,"span",16),t.qZA(),t.YNc(26,tt,7,0,"div",23),t.qZA()),2&e){const o=t.oxw();t.Q6J("formGroup",o.miForm),t.xp6(5),t.Q6J("ngIf",o.ValidaCampo("producto")),t.xp6(3),t.Q6J("ngForOf",o.ciudadesL),t.xp6(7),t.Q6J("ngIf",o.ValidaCampo("presentacion")),t.xp6(5),t.Q6J("ngIf",o.ValidaCampo("unEmpaque")),t.xp6(5),t.Q6J("ngIf",o.ValidaCampo("descripcion")),t.xp6(1),t.Q6J("ngIf",o.editar)}}let et=(()=>{class e{constructor(o,i,n){this.fb=o,this.smgService=i,this.dataM=n,this.myControl=new r.NI,this.criterio="",this.productosO=[],this.forQuery=!1,this.forLoad=!1,this.editar=!1,this.miForm=this.fb.group({producto:["",[r.kI.required,r.kI.minLength(3)]],ciudad:["11001",[r.kI.required]],presentacion:["",[r.kI.required,r.kI.minLength(3)]],unEmpaque:[0,[r.kI.required,r.kI.min(1)]],descripcion:["",[r.kI.required,r.kI.minLength(3)]]})}ngOnInit(){this.limpiarInfo(),this.loadCiudades(),this.filteredOptions=this.myControl.valueChanges.pipe((0,I.U)(o=>this._filter(o)))}_filter(o){(0,C.b)(200),""!=this.criterio&&this.smgService.getProducts(this.criterio).subscribe(n=>{n.error&&(this.productosO=[]),this.productosO=n.productos[0]});const i=o.toLowerCase();return 0===this.productosO.length?[{producto:"No hay coincidencias"}]:this.productosO.filter(n=>{var a;return null===(a=n.producto)||void 0===a?void 0:a.toLowerCase().includes(i)})||{nombre:"No hay coincidencias"}}selectForQuery(o){this.forQuery=!0,localStorage.setItem("search",JSON.stringify(o)),this.selectedItem=JSON.parse(localStorage.getItem("search")||"")}limpiarInfo(){this.selectedItem={},this.forLoad=!1,this.forQuery=!1,localStorage.removeItem("search"),this.miForm.reset(),this.miForm.disable(),this.editar=!1}loadInfo(){var o,i,n,a,c;this.forQuery?(this.selectedItem=JSON.parse(localStorage.getItem("search")||""),null===(o=this.miForm.get("producto"))||void 0===o||o.setValue(this.selectedItem.producto),null===(i=this.miForm.get("ciudad"))||void 0===i||i.setValue(this.selectedItem.ciudad),null===(n=this.miForm.get("presentacion"))||void 0===n||n.setValue(this.selectedItem.presentacion),null===(a=this.miForm.get("unEmpaque"))||void 0===a||a.setValue(this.selectedItem.unEmpaque),null===(c=this.miForm.get("descripcion"))||void 0===c||c.setValue(this.selectedItem.descripcion),this.miForm.disable(),this.forLoad=!0):u().fire({text:"No has seleccionado un producto aun",icon:"warning"})}loadCiudades(){this.dataM.getAllCities().subscribe(o=>{o.ciudades&&(this.ciudadesL=o.ciudades[0])})}ValidaCampo(o){return this.miForm.controls[o].errors&&this.miForm.controls[o].touched}editable(){this.editar=!0}cancelar(){this.editar=!1,this.miForm.reset(),this.limpiarInfo()}deleteProducto(){this.miForm.invalid?u().fire({icon:"info",title:"Oops...",text:"Hay cosas por corregir"}).then(i=>{this.miForm.markAllAsTouched()}):this.smgService.delProduct({idProductos:this.selectedItem.idProductos}).subscribe(i=>{if(i.error){const n=i.error.errors[0].msg,a=i.error.errors[0].param;u().fire({icon:"error",title:"Oops..."+a,text:n})}else u().fire({icon:"success",title:"Eliminaci\xf3n correcta",text:i.statusDescription}).then(n=>{this.forLoad=!1,this.criterio="",this.limpiarInfo()})})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(r.qu),t.Y36(Z.G),t.Y36(k.m))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-del-producto"]],decls:19,vars:8,consts:[[1,"container"],[1,"example-form","form-floating","p-2","m-2"],[1,"m-3","example-full-width"],["type","text","placeholder","","aria-label","Criterio de b\xfasqueda","matInput","",1,"example-full-width",3,"formControl","matAutocomplete","ngModel","ngModelChange","focus"],[1,"example-full-width"],["auto","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],["mat-stroked-button","","color","primary",1,"m-2",3,"click"],["mat-stroked-button","","color","warn","class","m-2",3,"click",4,"ngIf"],["action","",3,"formGroup",4,"ngIf"],[3,"value","click"],["mat-stroked-button","","color","warn",1,"m-2",3,"click"],["action","",3,"formGroup"],[1,"form-floating","m-3"],["type","text","id","floatingInput","placeholder","Productos","formControlName","producto",1,"form-control"],["for","floatingInput"],["class","form-text text-danger",4,"ngIf"],["id","ciudad","formControlName","ciudad",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["for","tipodocumento"],["type","text","id","floatingInput","placeholder","Presentacion","formControlName","presentacion",1,"form-control"],["type","number","id","floatingInput","placeholder","Unidades X empaque","formControlName","unEmpaque",1,"form-control"],["type","text","id","floatingInput","placeholder","Descripci\xf3n","formControlName","descripcion",1,"form-control"],["class","form-floating m-5 p-1",4,"ngIf"],[1,"form-text","text-danger"],[3,"value"],[1,"form-floating","m-5","p-1"],[1,"float-md-end","m-3"],[1,"btn","btn-outline-danger",3,"click"],[1,"btn","btn-outline-secondary",3,"click"]],template:function(o,i){if(1&o&&(t.TgZ(0,"div",0)(1,"h1"),t._uU(2,"Eliminaci\xf3n de productos"),t.qZA(),t._UZ(3,"hr"),t.TgZ(4,"div",0)(5,"form",1)(6,"mat-form-field",2)(7,"mat-label"),t._uU(8,"Criterio de b\xfasqueda"),t.qZA(),t.TgZ(9,"input",3),t.NdJ("ngModelChange",function(a){return i.criterio=a})("focus",function(){return i.limpiarInfo()}),t.qZA(),t.TgZ(10,"mat-autocomplete",4,5),t.YNc(12,X,2,2,"mat-option",6),t.ALo(13,"async"),t.qZA()(),t.TgZ(14,"button",7),t.NdJ("click",function(){return i.loadInfo()}),t._uU(15,"Visualizar"),t.qZA(),t.YNc(16,$,2,0,"button",8),t.qZA()(),t.TgZ(17,"div",0),t.YNc(18,ot,27,7,"form",9),t.qZA()()),2&o){const n=t.MAs(11);t.xp6(9),t.Q6J("formControl",i.myControl)("matAutocomplete",n)("ngModel",i.criterio),t.xp6(3),t.Q6J("ngForOf",t.lcZ(13,6,i.filteredOptions)),t.xp6(4),t.Q6J("ngIf",i.forLoad),t.xp6(2),t.Q6J("ngIf",i.forLoad)}},directives:[r._Y,r.JL,r.F,f.KE,f.hX,b.Nt,r.Fj,_.ZL,r.JJ,r.oH,_.XC,m.sg,x.ey,T.lW,m.O5,r.sg,r.u,r.EJ,r.YN,r.Kr,r.wV],pipes:[m.Ov],styles:[".example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}"]}),e})();function it(e,s){if(1&e){const o=t.EpF();t.TgZ(0,"mat-option",10),t.NdJ("click",function(){const a=t.CHM(o).$implicit;return t.oxw().selectForQuery(a)}),t._uU(1),t.qZA()}if(2&e){const o=s.$implicit;t.Q6J("value",o.producto),t.xp6(1),t.hij(" ",o.producto," ")}}function rt(e,s){if(1&e){const o=t.EpF();t.TgZ(0,"button",11),t.NdJ("click",function(){return t.CHM(o),t.oxw().editable()}),t._uU(1,"Editar"),t.qZA()}}function nt(e,s){1&e&&(t.TgZ(0,"span",24),t._uU(1,"Este campo es obligatorio, mas de 3 caracteres"),t.qZA())}function at(e,s){if(1&e&&(t.TgZ(0,"option",25),t._uU(1),t.qZA()),2&e){const o=s.$implicit;t.s9C("value",o.codigo),t.xp6(1),t.Oqu(o.Ciudad)}}function st(e,s){1&e&&(t.TgZ(0,"span",24),t._uU(1,"Este campo es obligatorio, mas de 3 caracteres"),t.qZA())}function ct(e,s){1&e&&(t.TgZ(0,"span",24),t._uU(1,"Este campo es obligatorio, m\xednimo 1"),t.qZA())}function lt(e,s){1&e&&(t.TgZ(0,"span",24),t._uU(1,"Este campo es obligatorio, mas de 3 caracteres"),t.qZA())}function ut(e,s){if(1&e){const o=t.EpF();t.TgZ(0,"div",26)(1,"div",27)(2,"button",28),t.NdJ("click",function(){return t.CHM(o),t.oxw(2).updateProducto()}),t._uU(3,"Guardar"),t.qZA()(),t.TgZ(4,"div",27)(5,"button",29),t.NdJ("click",function(){return t.CHM(o),t.oxw(2).cancelar()}),t._uU(6,"Cancelar"),t.qZA()()()}}function dt(e,s){if(1&e&&(t.TgZ(0,"form",12)(1,"div",13),t._UZ(2,"input",14),t.TgZ(3,"label",15),t._uU(4,"Producto"),t.qZA(),t.YNc(5,nt,2,0,"span",16),t.qZA(),t.TgZ(6,"div",13)(7,"select",17),t.YNc(8,at,2,2,"option",18),t.qZA(),t.TgZ(9,"label",19),t._uU(10,"Ciudad"),t.qZA()(),t.TgZ(11,"div",13),t._UZ(12,"input",20),t.TgZ(13,"label",15),t._uU(14,"Presentaci\xf3n"),t.qZA(),t.YNc(15,st,2,0,"span",16),t.qZA(),t.TgZ(16,"div",13),t._UZ(17,"input",21),t.TgZ(18,"label",15),t._uU(19,"Unidades X empaque"),t.qZA(),t.YNc(20,ct,2,0,"span",16),t.qZA(),t.TgZ(21,"div",13),t._UZ(22,"input",22),t.TgZ(23,"label",15),t._uU(24,"Descripci\xf3n"),t.qZA(),t.YNc(25,lt,2,0,"span",16),t.qZA(),t.YNc(26,ut,7,0,"div",23),t.qZA()),2&e){const o=t.oxw();t.Q6J("formGroup",o.miForm),t.xp6(5),t.Q6J("ngIf",o.ValidaCampo("producto")),t.xp6(3),t.Q6J("ngForOf",o.ciudadesL),t.xp6(7),t.Q6J("ngIf",o.ValidaCampo("presentacion")),t.xp6(5),t.Q6J("ngIf",o.ValidaCampo("unEmpaque")),t.xp6(5),t.Q6J("ngIf",o.ValidaCampo("descripcion")),t.xp6(1),t.Q6J("ngIf",o.editar)}}let mt=(()=>{class e{constructor(o,i,n){this.fb=o,this.smgService=i,this.dataM=n,this.myControl=new r.NI,this.criterio="",this.productosO=[],this.forQuery=!1,this.forLoad=!1,this.editar=!1,this.miForm=this.fb.group({producto:["",[r.kI.required,r.kI.minLength(3)]],ciudad:["11001",[r.kI.required]],presentacion:["",[r.kI.required,r.kI.minLength(3)]],unEmpaque:[0,[r.kI.required,r.kI.min(1)]],descripcion:["",[r.kI.required,r.kI.minLength(3)]]})}ngOnInit(){this.limpiarInfo(),this.loadCiudades(),this.filteredOptions=this.myControl.valueChanges.pipe((0,I.U)(o=>this._filter(o)))}_filter(o){(0,C.b)(200),""!=this.criterio&&this.smgService.getProducts(this.criterio).subscribe(n=>{n.error&&(this.productosO=[]),this.productosO=n.productos[0]});const i=o.toLowerCase();return 0===this.productosO.length?[{producto:"No hay coincidencias"}]:this.productosO.filter(n=>{var a;return null===(a=n.producto)||void 0===a?void 0:a.toLowerCase().includes(i)})||{nombre:"No hay coincidencias"}}selectForQuery(o){this.forQuery=!0,localStorage.setItem("search",JSON.stringify(o)),this.selectedItem=JSON.parse(localStorage.getItem("search")||"")}limpiarInfo(){this.selectedItem={},this.forLoad=!1,this.forQuery=!1,localStorage.removeItem("search"),this.miForm.reset(),this.miForm.disable(),this.editar=!1}loadInfo(){var o,i,n,a,c;this.forQuery?(this.selectedItem=JSON.parse(localStorage.getItem("search")||""),null===(o=this.miForm.get("producto"))||void 0===o||o.setValue(this.selectedItem.producto),null===(i=this.miForm.get("ciudad"))||void 0===i||i.setValue(this.selectedItem.ciudad),null===(n=this.miForm.get("presentacion"))||void 0===n||n.setValue(this.selectedItem.presentacion),null===(a=this.miForm.get("unEmpaque"))||void 0===a||a.setValue(this.selectedItem.unEmpaque),null===(c=this.miForm.get("descripcion"))||void 0===c||c.setValue(this.selectedItem.descripcion),this.miForm.disable(),this.forLoad=!0):u().fire({text:"No has seleccionado un producto aun",icon:"warning"})}loadCiudades(){this.dataM.getAllCities().subscribe(o=>{o.ciudades&&(this.ciudadesL=o.ciudades[0])})}ValidaCampo(o){return this.miForm.controls[o].errors&&this.miForm.controls[o].touched}editable(){this.editar=!0,this.miForm.enable()}cancelar(){this.editar=!1,this.miForm.reset(),this.limpiarInfo()}updateProducto(){var o,i,n,a,c;if(this.miForm.invalid)return void u().fire({icon:"info",title:"Oops...",text:"Hay cosas por corregir"}).then(l=>{this.miForm.markAllAsTouched()});const d={idProductos:this.selectedItem.idProductos,producto:null===(o=this.miForm.get("producto"))||void 0===o?void 0:o.value,ciudad:null===(i=this.miForm.get("ciudad"))||void 0===i?void 0:i.value,presentacion:null===(n=this.miForm.get("presentacion"))||void 0===n?void 0:n.value,unEmpaque:null===(a=this.miForm.get("unEmpaque"))||void 0===a?void 0:a.value,descripcion:null===(c=this.miForm.get("descripcion"))||void 0===c?void 0:c.value};this.smgService.updProduct(d).subscribe(l=>{if(l.error){const h=l.error.errors[0].msg,g=l.error.errors[0].param||"";u().fire({icon:"error",title:"Oops..."+g,text:h})}else u().fire({icon:"success",title:"Actualizaci\xf3n correcta",text:l.statusDescription}).then(h=>{this.forLoad=!1,this.criterio="",this.limpiarInfo()})})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(r.qu),t.Y36(Z.G),t.Y36(k.m))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-upd-producto"]],decls:19,vars:8,consts:[[1,"container"],[1,"example-form","form-floating","p-2","m-2"],[1,"m-3","example-full-width"],["type","text","placeholder","","aria-label","Criterio de b\xfasqueda","matInput","",1,"example-full-width",3,"formControl","matAutocomplete","ngModel","ngModelChange","focus"],[1,"example-full-width"],["auto","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],["mat-stroked-button","","color","primary",1,"m-2",3,"click"],["mat-stroked-button","","color","warn","class","m-2",3,"click",4,"ngIf"],["action","",3,"formGroup",4,"ngIf"],[3,"value","click"],["mat-stroked-button","","color","warn",1,"m-2",3,"click"],["action","",3,"formGroup"],[1,"form-floating","m-3"],["type","text","id","floatingInput","placeholder","Productos","formControlName","producto",1,"form-control"],["for","floatingInput"],["class","form-text text-danger",4,"ngIf"],["id","ciudad","formControlName","ciudad",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["for","tipodocumento"],["type","text","id","floatingInput","placeholder","Presentacion","formControlName","presentacion",1,"form-control"],["type","number","id","floatingInput","placeholder","Unidades X empaque","formControlName","unEmpaque",1,"form-control"],["type","text","id","floatingInput","placeholder","Descripci\xf3n","formControlName","descripcion",1,"form-control"],["class","form-floating m-5 p-1",4,"ngIf"],[1,"form-text","text-danger"],[3,"value"],[1,"form-floating","m-5","p-1"],[1,"float-md-end","m-3"],[1,"btn","btn-outline-success",3,"click"],[1,"btn","btn-outline-secondary",3,"click"]],template:function(o,i){if(1&o&&(t.TgZ(0,"div",0)(1,"h1"),t._uU(2,"Actualizaci\xf3n de productos"),t.qZA(),t._UZ(3,"hr"),t.TgZ(4,"div",0)(5,"form",1)(6,"mat-form-field",2)(7,"mat-label"),t._uU(8,"Criterio de b\xfasqueda"),t.qZA(),t.TgZ(9,"input",3),t.NdJ("ngModelChange",function(a){return i.criterio=a})("focus",function(){return i.limpiarInfo()}),t.qZA(),t.TgZ(10,"mat-autocomplete",4,5),t.YNc(12,it,2,2,"mat-option",6),t.ALo(13,"async"),t.qZA()(),t.TgZ(14,"button",7),t.NdJ("click",function(){return i.loadInfo()}),t._uU(15,"Visualizar"),t.qZA(),t.YNc(16,rt,2,0,"button",8),t.qZA()(),t.TgZ(17,"div",0),t.YNc(18,dt,27,7,"form",9),t.qZA()()),2&o){const n=t.MAs(11);t.xp6(9),t.Q6J("formControl",i.myControl)("matAutocomplete",n)("ngModel",i.criterio),t.xp6(3),t.Q6J("ngForOf",t.lcZ(13,6,i.filteredOptions)),t.xp6(4),t.Q6J("ngIf",i.forLoad),t.xp6(2),t.Q6J("ngIf",i.forLoad)}},directives:[r._Y,r.JL,r.F,f.KE,f.hX,b.Nt,r.Fj,_.ZL,r.JJ,r.oH,_.XC,m.sg,x.ey,T.lW,m.O5,r.sg,r.u,r.EJ,r.YN,r.Kr,r.wV],pipes:[m.Ov],styles:[".example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}"]}),e})();function pt(e,s){if(1&e&&(t.TgZ(0,"option",18),t._uU(1),t.qZA()),2&e){const o=s.$implicit;t.s9C("value",o.idProductos),t.xp6(1),t.Oqu(o.producto)}}function ft(e,s){1&e&&(t.TgZ(0,"span",19),t._uU(1,"Este campo es obligatorio, mayor o igual a 0"),t.qZA())}function _t(e,s){1&e&&(t.TgZ(0,"span",19),t._uU(1,"Este campo es obligatorio, mayor o igual a 0"),t.qZA())}function gt(e,s){1&e&&(t.TgZ(0,"span",19),t._uU(1,"Este campo es obligatorio, mayor o igual a 0"),t.qZA())}function ht(e,s){1&e&&(t.TgZ(0,"span",19),t._uU(1,"Este campo es obligatorio, mayor a 0"),t.qZA())}function vt(e,s){1&e&&(t.TgZ(0,"span",19),t._uU(1,"Este campo es obligatorio, mayor a 0"),t.qZA())}function Zt(e,s){1&e&&(t.TgZ(0,"span",19),t._uU(1,"Este campo es obligatorio, mayor a 0"),t.qZA())}let It=(()=>{class e{constructor(o,i){this.fb=o,this.smgService=i,this.miForm=this.fb.group({producto:[,[r.kI.required]],stock:[0,[r.kI.required,r.kI.min(0)]],stockMin:[0,[r.kI.required,r.kI.min(0)]],stockMax:[0,[r.kI.required,r.kI.min(0)]],PrecioVenta:[0,[r.kI.required,r.kI.min(1)]],impuesto:[19,[r.kI.required,r.kI.min(0)]],descuento:[0,[r.kI.required,r.kI.min(0)]]}),this.productosL=[]}ngOnInit(){this.loadProductos()}loadProductos(){this.smgService.getAllProducts().subscribe(o=>{o.productos&&(this.productosL=o.productos[0])})}setDefaultForm(){var o,i,n,a,c,d;null===(o=this.miForm.get("stock"))||void 0===o||o.setValue(0),null===(i=this.miForm.get("stockMin"))||void 0===i||i.setValue(0),null===(n=this.miForm.get("stockMax"))||void 0===n||n.setValue(0),null===(a=this.miForm.get("PrecioVenta"))||void 0===a||a.setValue(0),null===(c=this.miForm.get("impuesto"))||void 0===c||c.setValue(19),null===(d=this.miForm.get("descuento"))||void 0===d||d.setValue(0)}ValidaCampo(o){return this.miForm.controls[o].errors&&this.miForm.controls[o].touched}crearStock(){var o,i,n,a,c,d,l;if(this.miForm.invalid)return void u().fire({icon:"info",title:"Oops...",text:"Hay cosas por corregir"}).then(g=>{this.miForm.markAllAsTouched()});const h={producto:null===(o=this.miForm.get("producto"))||void 0===o?void 0:o.value,stock:null===(i=this.miForm.get("stock"))||void 0===i?void 0:i.value,stockMin:null===(n=this.miForm.get("stockMin"))||void 0===n?void 0:n.value,stockMax:null===(a=this.miForm.get("stockMax"))||void 0===a?void 0:a.value,PrecioVenta:null===(c=this.miForm.get("PrecioVenta"))||void 0===c?void 0:c.value,impuesto:null===(d=this.miForm.get("impuesto"))||void 0===d?void 0:d.value,descuento:null===(l=this.miForm.get("descuento"))||void 0===l?void 0:l.value};this.smgService.cInventario(h).subscribe(g=>{if(g.error){const q=g.error.errors[0].msg,U=g.error.errors[0].param||"";u().fire({icon:"error",title:"Oops..."+U,text:q})}else u().fire({icon:"success",title:"Creaci\xf3n correcta",text:g.statusDescription}).then(q=>{this.miForm.reset(),this.setDefaultForm()})})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(r.qu),t.Y36(Z.G))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-inventarios"]],decls:45,vars:8,consts:[[1,"container"],[1,"container","form-control","form-floating"],["action","",3,"formGroup"],[1,"form-floating","m-3"],["id","producto","formControlName","producto",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["for","producto"],["type","number","id","floatingInput","placeholder","Stock","formControlName","stock",1,"form-control"],["for","floatingInput"],["class","form-text text-danger",4,"ngIf"],["type","number","id","floatingInput","placeholder","Stock M\xednimo","formControlName","stockMin",1,"form-control"],["type","number","id","floatingInput","placeholder","Stock M\xe1ximo","formControlName","stockMax",1,"form-control"],["type","number","id","floatingInput","placeholder","Precio de venta","formControlName","PrecioVenta",1,"form-control"],["type","number","id","floatingInput","placeholder","% Impuesto","formControlName","impuesto",1,"form-control"],["type","number","id","floatingInput","placeholder","% Descuento","formControlName","descuento",1,"form-control"],[1,"form-floating","m-5","p-1"],[1,"float-md-end"],[1,"btn","btn-outline-primary",3,"click"],[3,"value"],[1,"form-text","text-danger"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"h1"),t._uU(2,"Creaci\xf3n de inventarios"),t.qZA(),t._UZ(3,"hr"),t.TgZ(4,"div",1)(5,"form",2)(6,"div",3)(7,"select",4),t.YNc(8,pt,2,2,"option",5),t.qZA(),t.TgZ(9,"label",6),t._uU(10,"Producto"),t.qZA()(),t.TgZ(11,"div",3),t._UZ(12,"input",7),t.TgZ(13,"label",8),t._uU(14,"Stock"),t.qZA(),t.YNc(15,ft,2,0,"span",9),t.qZA(),t.TgZ(16,"div",3),t._UZ(17,"input",10),t.TgZ(18,"label",8),t._uU(19,"Stock M\xednimo"),t.qZA(),t.YNc(20,_t,2,0,"span",9),t.qZA(),t.TgZ(21,"div",3),t._UZ(22,"input",11),t.TgZ(23,"label",8),t._uU(24,"Stock M\xe1ximo"),t.qZA(),t.YNc(25,gt,2,0,"span",9),t.qZA(),t.TgZ(26,"div",3),t._UZ(27,"input",12),t.TgZ(28,"label",8),t._uU(29,"Precio de venta"),t.qZA(),t.YNc(30,ht,2,0,"span",9),t.qZA(),t.TgZ(31,"div",3),t._UZ(32,"input",13),t.TgZ(33,"label",8),t._uU(34,"% Impuesto"),t.qZA(),t.YNc(35,vt,2,0,"span",9),t.qZA(),t.TgZ(36,"div",3),t._UZ(37,"input",14),t.TgZ(38,"label",8),t._uU(39,"% Descuento"),t.qZA(),t.YNc(40,Zt,2,0,"span",9),t.qZA(),t.TgZ(41,"div",15)(42,"div",16)(43,"button",17),t.NdJ("click",function(){return i.crearStock()}),t._uU(44,"Guardar"),t.qZA()()()()()()),2&o&&(t.xp6(5),t.Q6J("formGroup",i.miForm),t.xp6(3),t.Q6J("ngForOf",i.productosL),t.xp6(7),t.Q6J("ngIf",i.ValidaCampo("stock")),t.xp6(5),t.Q6J("ngIf",i.ValidaCampo("stockMin")),t.xp6(5),t.Q6J("ngIf",i.ValidaCampo("stockMax")),t.xp6(5),t.Q6J("ngIf",i.ValidaCampo("PrecioVenta")),t.xp6(5),t.Q6J("ngIf",i.ValidaCampo("impuesto")),t.xp6(5),t.Q6J("ngIf",i.ValidaCampo("descuento")))},directives:[r._Y,r.JL,r.sg,r.EJ,r.JJ,r.u,m.sg,r.YN,r.Kr,r.wV,r.Fj,m.O5],encapsulation:2}),e})();function Ct(e,s){if(1&e){const o=t.EpF();t.TgZ(0,"mat-option",9),t.NdJ("click",function(){const a=t.CHM(o).$implicit;return t.oxw().selectForQuery(a)}),t._uU(1),t.qZA()}if(2&e){const o=s.$implicit;t.Q6J("value",o.producto),t.xp6(1),t.hij(" ",o.producto," ")}}function bt(e,s){if(1&e&&(t.TgZ(0,"option",24),t._uU(1),t.qZA()),2&e){const o=s.$implicit;t.s9C("value",o.idProductos),t.xp6(1),t.Oqu(o.producto)}}function xt(e,s){1&e&&(t.TgZ(0,"span",25),t._uU(1,"Este campo es obligatorio, mayor o igual a 0"),t.qZA())}function Tt(e,s){1&e&&(t.TgZ(0,"span",25),t._uU(1,"Este campo es obligatorio, mayor o igual a 0"),t.qZA())}function At(e,s){1&e&&(t.TgZ(0,"span",25),t._uU(1,"Este campo es obligatorio, mayor o igual a 0"),t.qZA())}function qt(e,s){1&e&&(t.TgZ(0,"span",25),t._uU(1,"Este campo es obligatorio, mayor a 0"),t.qZA())}function Ft(e,s){1&e&&(t.TgZ(0,"span",25),t._uU(1,"Este campo es obligatorio, mayor a 0"),t.qZA())}function kt(e,s){1&e&&(t.TgZ(0,"span",25),t._uU(1,"Este campo es obligatorio, mayor a 0"),t.qZA())}function Ut(e,s){if(1&e&&(t.TgZ(0,"div",10)(1,"form",11)(2,"div",12)(3,"select",13),t.YNc(4,bt,2,2,"option",14),t.qZA(),t.TgZ(5,"label",15),t._uU(6,"Producto"),t.qZA()(),t.TgZ(7,"div",12),t._UZ(8,"input",16),t.TgZ(9,"label",17),t._uU(10,"Stock"),t.qZA(),t.YNc(11,xt,2,0,"span",18),t.qZA(),t.TgZ(12,"div",12),t._UZ(13,"input",19),t.TgZ(14,"label",17),t._uU(15,"Stock M\xednimo"),t.qZA(),t.YNc(16,Tt,2,0,"span",18),t.qZA(),t.TgZ(17,"div",12),t._UZ(18,"input",20),t.TgZ(19,"label",17),t._uU(20,"Stock M\xe1ximo"),t.qZA(),t.YNc(21,At,2,0,"span",18),t.qZA(),t.TgZ(22,"div",12),t._UZ(23,"input",21),t.TgZ(24,"label",17),t._uU(25,"Precio de venta"),t.qZA(),t.YNc(26,qt,2,0,"span",18),t.qZA(),t.TgZ(27,"div",12),t._UZ(28,"input",22),t.TgZ(29,"label",17),t._uU(30,"% Impuesto"),t.qZA(),t.YNc(31,Ft,2,0,"span",18),t.qZA(),t.TgZ(32,"div",12),t._UZ(33,"input",23),t.TgZ(34,"label",17),t._uU(35,"% Descuento"),t.qZA(),t.YNc(36,kt,2,0,"span",18),t.qZA()()()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("formGroup",o.miForm),t.xp6(3),t.Q6J("ngForOf",o.productosL),t.xp6(7),t.Q6J("ngIf",o.ValidaCampo("stock")),t.xp6(5),t.Q6J("ngIf",o.ValidaCampo("stockMin")),t.xp6(5),t.Q6J("ngIf",o.ValidaCampo("stockMax")),t.xp6(5),t.Q6J("ngIf",o.ValidaCampo("PrecioVenta")),t.xp6(5),t.Q6J("ngIf",o.ValidaCampo("impuesto")),t.xp6(5),t.Q6J("ngIf",o.ValidaCampo("descuento"))}}let yt=(()=>{class e{constructor(o,i){this.fb=o,this.smgService=i,this.miForm=this.fb.group({producto:[,[r.kI.required]],stock:[0,[r.kI.required,r.kI.min(0)]],stockMin:[0,[r.kI.required,r.kI.min(0)]],stockMax:[0,[r.kI.required,r.kI.min(0)]],PrecioVenta:[0,[r.kI.required,r.kI.min(1)]],impuesto:[19,[r.kI.required,r.kI.min(0)]],descuento:[0,[r.kI.required,r.kI.min(0)]]}),this.productosL=[],this.stocksL=[],this.myControl=new r.NI,this.criterio="",this.productoO=[],this.forQuery=!1,this.forLoad=!1,this.editar=!1}ngOnInit(){this.loadProductos(),this.loadStocks(),this.filteredOptions=this.myControl.valueChanges.pipe((0,I.U)(o=>this._filter(o)))}_filter(o){(0,C.b)(200);const i=o.toLowerCase();return this.productosL.filter(n=>{var a;return null===(a=n.producto)||void 0===a?void 0:a.toLowerCase().includes(i)})||{producto:"No hay coincidencias"}}selectForQuery(o){this.forQuery=!0,localStorage.setItem("search",JSON.stringify(o)),this.selectedItem=JSON.parse(localStorage.getItem("search")||"")}loadProductos(){this.smgService.getAllProducts().subscribe(o=>{o.productos&&(this.productosL=o.productos[0])})}loadStocks(){this.smgService.getCompleteStock().subscribe(o=>{o.stocks&&(this.stocksL=o.stocks[0])})}setDefaultForm(){var o,i,n,a,c,d;null===(o=this.miForm.get("stock"))||void 0===o||o.setValue(0),null===(i=this.miForm.get("stockMin"))||void 0===i||i.setValue(0),null===(n=this.miForm.get("stockMax"))||void 0===n||n.setValue(0),null===(a=this.miForm.get("PrecioVenta"))||void 0===a||a.setValue(0),null===(c=this.miForm.get("impuesto"))||void 0===c||c.setValue(19),null===(d=this.miForm.get("descuento"))||void 0===d||d.setValue(0)}loadInfo(){var o,i,n,a,c,d,l;this.forQuery?(this.selectedProduct=JSON.parse(localStorage.getItem("search")||""),this.searchStock(this.selectedProduct.idProductos||0),this.selectedItem.length>0&&(null===(o=this.miForm.get("producto"))||void 0===o||o.setValue(this.selectedItem[0].producto),null===(i=this.miForm.get("stock"))||void 0===i||i.setValue(this.selectedItem[0].stock),null===(n=this.miForm.get("stockMin"))||void 0===n||n.setValue(this.selectedItem[0].stockMin),null===(a=this.miForm.get("stockMax"))||void 0===a||a.setValue(this.selectedItem[0].stockMax),null===(c=this.miForm.get("PrecioVenta"))||void 0===c||c.setValue(this.selectedItem[0].PrecioVenta),null===(d=this.miForm.get("impuesto"))||void 0===d||d.setValue(this.selectedItem[0].impuesto),null===(l=this.miForm.get("descuento"))||void 0===l||l.setValue(this.selectedItem[0].descuento),this.miForm.disable(),this.forLoad=!0)):u().fire({text:"No has seleccionado un producto aun",icon:"warning"})}ValidaCampo(o){return this.miForm.controls[o].errors&&this.miForm.controls[o].touched}limpiarInfo(){this.selectedItem=[],this.forLoad=!1,this.forQuery=!1,localStorage.removeItem("search"),this.miForm.reset(),this.miForm.disable(),this.editar=!1}editable(){this.editar=!0,this.miForm.enable()}cancelar(){this.editar=!1,this.miForm.reset(),this.limpiarInfo()}searchStock(o){this.selectedItem=this.stocksL.filter(i=>i.producto===o),0===this.selectedItem.length&&u().fire({icon:"error",title:"Oops...",text:"No se encontr\xf3 inventario para el producto"})}sStock(){var o,i,n,a,c,d,l;if(this.miForm.invalid)return void u().fire({icon:"info",title:"Oops...",text:"Hay cosas por corregir"}).then(g=>{this.miForm.markAllAsTouched()});const h={producto:null===(o=this.miForm.get("producto"))||void 0===o?void 0:o.value,stock:null===(i=this.miForm.get("stock"))||void 0===i?void 0:i.value,stockMin:null===(n=this.miForm.get("stockMin"))||void 0===n?void 0:n.value,stockMax:null===(a=this.miForm.get("stockMax"))||void 0===a?void 0:a.value,PrecioVenta:null===(c=this.miForm.get("PrecioVenta"))||void 0===c?void 0:c.value,impuesto:null===(d=this.miForm.get("impuesto"))||void 0===d?void 0:d.value,descuento:null===(l=this.miForm.get("descuento"))||void 0===l?void 0:l.value};this.smgService.cInventario(h).subscribe(g=>{if(g.error){const q=g.error.errors[0].msg,U=g.error.errors[0].param||"";u().fire({icon:"error",title:"Oops..."+U,text:q})}else u().fire({icon:"success",title:"Creaci\xf3n correcta",text:g.statusDescription}).then(q=>{this.miForm.reset(),this.setDefaultForm()})})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(r.qu),t.Y36(Z.G))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-find-inventarios"]],decls:17,vars:7,consts:[[1,"container"],[1,"example-form","form-floating","p-2","m-2"],[1,"m-3","example-full-width"],["type","text","placeholder","","aria-label","Producto a buscar","matInput","",1,"example-full-width",3,"formControl","matAutocomplete","ngModel","ngModelChange","focus"],[1,"example-full-width"],["auto","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],["mat-stroked-button","","color","primary",1,"m-2",3,"click"],["class","container form-control form-floating",4,"ngIf"],[3,"value","click"],[1,"container","form-control","form-floating"],["action","",3,"formGroup"],[1,"form-floating","m-3"],["id","producto","formControlName","producto",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["for","producto"],["type","number","id","floatingInput","placeholder","Stock","formControlName","stock",1,"form-control"],["for","floatingInput"],["class","form-text text-danger",4,"ngIf"],["type","number","id","floatingInput","placeholder","Stock M\xednimo","formControlName","stockMin",1,"form-control"],["type","number","id","floatingInput","placeholder","Stock M\xe1ximo","formControlName","stockMax",1,"form-control"],["type","number","id","floatingInput","placeholder","Precio de venta","formControlName","PrecioVenta",1,"form-control"],["type","number","id","floatingInput","placeholder","% Impuesto","formControlName","impuesto",1,"form-control"],["type","number","id","floatingInput","placeholder","% Descuento","formControlName","descuento",1,"form-control"],[3,"value"],[1,"form-text","text-danger"]],template:function(o,i){if(1&o&&(t.TgZ(0,"div",0)(1,"h1"),t._uU(2,"B\xfasqueda de inventarios"),t.qZA(),t._UZ(3,"hr"),t.TgZ(4,"div",0)(5,"form",1)(6,"mat-form-field",2)(7,"mat-label"),t._uU(8,"Producto a buscar"),t.qZA(),t.TgZ(9,"input",3),t.NdJ("ngModelChange",function(a){return i.criterio=a})("focus",function(){return i.limpiarInfo()}),t.qZA(),t.TgZ(10,"mat-autocomplete",4,5),t.YNc(12,Ct,2,2,"mat-option",6),t.ALo(13,"async"),t.qZA()(),t.TgZ(14,"button",7),t.NdJ("click",function(){return i.loadInfo()}),t._uU(15,"Visualizar"),t.qZA()()(),t.YNc(16,Ut,37,8,"div",8),t.qZA()),2&o){const n=t.MAs(11);t.xp6(9),t.Q6J("formControl",i.myControl)("matAutocomplete",n)("ngModel",i.criterio),t.xp6(3),t.Q6J("ngForOf",t.lcZ(13,5,i.filteredOptions)),t.xp6(4),t.Q6J("ngIf",i.forLoad)}},directives:[r._Y,r.JL,r.F,f.KE,f.hX,b.Nt,r.Fj,_.ZL,r.JJ,r.oH,_.XC,m.sg,x.ey,T.lW,m.O5,r.sg,r.EJ,r.u,r.YN,r.Kr,r.wV],pipes:[m.Ov],styles:[".example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}"]}),e})();function Nt(e,s){if(1&e){const o=t.EpF();t.TgZ(0,"mat-option",10),t.NdJ("click",function(){const a=t.CHM(o).$implicit;return t.oxw().selectForQuery(a)}),t._uU(1),t.qZA()}if(2&e){const o=s.$implicit;t.Q6J("value",o.producto),t.xp6(1),t.hij(" ",o.producto," ")}}function Jt(e,s){if(1&e){const o=t.EpF();t.TgZ(0,"button",11),t.NdJ("click",function(){return t.CHM(o),t.oxw().editable()}),t._uU(1,"Editar"),t.qZA()}}function St(e,s){if(1&e&&(t.TgZ(0,"option",27),t._uU(1),t.qZA()),2&e){const o=s.$implicit;t.s9C("value",o.idProductos),t.xp6(1),t.Oqu(o.producto)}}function Pt(e,s){1&e&&(t.TgZ(0,"span",28),t._uU(1,"Este campo es obligatorio, mayor o igual a 0"),t.qZA())}function Ot(e,s){1&e&&(t.TgZ(0,"span",28),t._uU(1,"Este campo es obligatorio, mayor o igual a 0"),t.qZA())}function Mt(e,s){1&e&&(t.TgZ(0,"span",28),t._uU(1,"Este campo es obligatorio, mayor o igual a 0"),t.qZA())}function wt(e,s){1&e&&(t.TgZ(0,"span",28),t._uU(1,"Este campo es obligatorio, mayor a 0"),t.qZA())}function Qt(e,s){1&e&&(t.TgZ(0,"span",28),t._uU(1,"Este campo es obligatorio, mayor a 0"),t.qZA())}function Lt(e,s){1&e&&(t.TgZ(0,"span",28),t._uU(1,"Este campo es obligatorio, mayor a 0"),t.qZA())}function Vt(e,s){if(1&e){const o=t.EpF();t.TgZ(0,"div",29)(1,"div",30)(2,"button",31),t.NdJ("click",function(){return t.CHM(o),t.oxw(2).updateInventario()}),t._uU(3,"Guardar"),t.qZA()(),t.TgZ(4,"div",30)(5,"button",32),t.NdJ("click",function(){return t.CHM(o),t.oxw(2).cancelar()}),t._uU(6,"Cancelar"),t.qZA()()()}}function Yt(e,s){if(1&e&&(t.TgZ(0,"div",12)(1,"form",13)(2,"div",14)(3,"select",15),t.YNc(4,St,2,2,"option",16),t.qZA(),t.TgZ(5,"label",17),t._uU(6,"Producto"),t.qZA()(),t.TgZ(7,"div",14),t._UZ(8,"input",18),t.TgZ(9,"label",19),t._uU(10,"Stock"),t.qZA(),t.YNc(11,Pt,2,0,"span",20),t.qZA(),t.TgZ(12,"div",14),t._UZ(13,"input",21),t.TgZ(14,"label",19),t._uU(15,"Stock M\xednimo"),t.qZA(),t.YNc(16,Ot,2,0,"span",20),t.qZA(),t.TgZ(17,"div",14),t._UZ(18,"input",22),t.TgZ(19,"label",19),t._uU(20,"Stock M\xe1ximo"),t.qZA(),t.YNc(21,Mt,2,0,"span",20),t.qZA(),t.TgZ(22,"div",14),t._UZ(23,"input",23),t.TgZ(24,"label",19),t._uU(25,"Precio de venta"),t.qZA(),t.YNc(26,wt,2,0,"span",20),t.qZA(),t.TgZ(27,"div",14),t._UZ(28,"input",24),t.TgZ(29,"label",19),t._uU(30,"% Impuesto"),t.qZA(),t.YNc(31,Qt,2,0,"span",20),t.qZA(),t.TgZ(32,"div",14),t._UZ(33,"input",25),t.TgZ(34,"label",19),t._uU(35,"% Descuento"),t.qZA(),t.YNc(36,Lt,2,0,"span",20),t.qZA(),t.YNc(37,Vt,7,0,"div",26),t.qZA()()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("formGroup",o.miForm),t.xp6(3),t.Q6J("ngForOf",o.productosL),t.xp6(7),t.Q6J("ngIf",o.ValidaCampo("stock")),t.xp6(5),t.Q6J("ngIf",o.ValidaCampo("stockMin")),t.xp6(5),t.Q6J("ngIf",o.ValidaCampo("stockMax")),t.xp6(5),t.Q6J("ngIf",o.ValidaCampo("PrecioVenta")),t.xp6(5),t.Q6J("ngIf",o.ValidaCampo("impuesto")),t.xp6(5),t.Q6J("ngIf",o.ValidaCampo("descuento")),t.xp6(1),t.Q6J("ngIf",o.editar)}}let Et=(()=>{class e{constructor(o,i){this.fb=o,this.smgService=i,this.miForm=this.fb.group({producto:[,[r.kI.required]],stock:[0,[r.kI.required,r.kI.min(0)]],stockMin:[0,[r.kI.required,r.kI.min(0)]],stockMax:[0,[r.kI.required,r.kI.min(0)]],PrecioVenta:[0,[r.kI.required,r.kI.min(1)]],impuesto:[19,[r.kI.required,r.kI.min(0)]],descuento:[0,[r.kI.required,r.kI.min(0)]]}),this.productosL=[],this.stocksL=[],this.myControl=new r.NI,this.criterio="",this.productoO=[],this.forQuery=!1,this.forLoad=!1,this.editar=!1}ngOnInit(){this.loadProductos(),this.loadStocks(),this.filteredOptions=this.myControl.valueChanges.pipe((0,I.U)(o=>this._filter(o)))}_filter(o){(0,C.b)(200);const i=o.toLowerCase();return this.productosL.filter(n=>{var a;return null===(a=n.producto)||void 0===a?void 0:a.toLowerCase().includes(i)})||{producto:"No hay coincidencias"}}selectForQuery(o){this.forQuery=!0,localStorage.setItem("search",JSON.stringify(o)),this.selectedItem=JSON.parse(localStorage.getItem("search")||"")}loadProductos(){this.smgService.getAllProducts().subscribe(o=>{o.productos&&(this.productosL=o.productos[0])})}loadStocks(){this.smgService.getCompleteStock().subscribe(o=>{o.stocks&&(this.stocksL=o.stocks[0])})}setDefaultForm(){var o,i,n,a,c,d;null===(o=this.miForm.get("stock"))||void 0===o||o.setValue(0),null===(i=this.miForm.get("stockMin"))||void 0===i||i.setValue(0),null===(n=this.miForm.get("stockMax"))||void 0===n||n.setValue(0),null===(a=this.miForm.get("PrecioVenta"))||void 0===a||a.setValue(0),null===(c=this.miForm.get("impuesto"))||void 0===c||c.setValue(19),null===(d=this.miForm.get("descuento"))||void 0===d||d.setValue(0),this.forLoad=!1,this.loadStocks()}loadInfo(){var o,i,n,a,c,d,l;this.forQuery?(this.selectedProduct=JSON.parse(localStorage.getItem("search")||""),this.searchStock(this.selectedProduct.idProductos||0),this.selectedItem.length>0&&(null===(o=this.miForm.get("producto"))||void 0===o||o.setValue(this.selectedItem[0].producto),null===(i=this.miForm.get("stock"))||void 0===i||i.setValue(this.selectedItem[0].stock),null===(n=this.miForm.get("stockMin"))||void 0===n||n.setValue(this.selectedItem[0].stockMin),null===(a=this.miForm.get("stockMax"))||void 0===a||a.setValue(this.selectedItem[0].stockMax),null===(c=this.miForm.get("PrecioVenta"))||void 0===c||c.setValue(this.selectedItem[0].PrecioVenta),null===(d=this.miForm.get("impuesto"))||void 0===d||d.setValue(this.selectedItem[0].impuesto),null===(l=this.miForm.get("descuento"))||void 0===l||l.setValue(this.selectedItem[0].descuento),this.forLoad=!0)):u().fire({text:"No has seleccionado un producto aun",icon:"warning"})}ValidaCampo(o){return this.miForm.controls[o].errors&&this.miForm.controls[o].touched}limpiarInfo(){this.selectedItem=[],this.forLoad=!1,this.forQuery=!1,localStorage.removeItem("search"),this.miForm.reset(),this.miForm.disable(),this.editar=!1}editable(){var o,i;this.editar=!0,this.miForm.enable(),null===(o=this.miForm.get("producto"))||void 0===o||o.disable(),null===(i=this.miForm.get("stock"))||void 0===i||i.disable()}cancelar(){this.editar=!1,this.miForm.reset(),this.limpiarInfo()}searchStock(o){this.selectedItem=this.stocksL.filter(i=>i.producto===o),0===this.selectedItem.length&&u().fire({icon:"error",title:"Oops...",text:"No se encontr\xf3 inventario para el producto"})}updateInventario(){var o,i,n,a,c;if(this.miForm.invalid)return void u().fire({icon:"info",title:"Oops...",text:"Hay cosas por corregir"}).then(l=>{this.miForm.markAllAsTouched()});const d={idInventario:this.selectedItem[0].idInventario,producto:this.selectedItem[0].producto,stock:this.selectedItem[0].stock,stockMin:null===(o=this.miForm.get("stockMin"))||void 0===o?void 0:o.value,stockMax:null===(i=this.miForm.get("stockMax"))||void 0===i?void 0:i.value,PrecioVenta:null===(n=this.miForm.get("PrecioVenta"))||void 0===n?void 0:n.value,impuesto:null===(a=this.miForm.get("impuesto"))||void 0===a?void 0:a.value,descuento:null===(c=this.miForm.get("descuento"))||void 0===c?void 0:c.value};this.smgService.updInventario(d).subscribe(l=>{if(l.error){const h=l.error.errors[0].msg,g=l.error.errors[0].param||"";u().fire({icon:"error",title:"Oops..."+g,text:h})}else u().fire({icon:"success",title:"Actualizaci\xf3n correcta",text:l.statusDescription}).then(h=>{this.miForm.reset(),this.setDefaultForm()})})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(r.qu),t.Y36(Z.G))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-upd-inventarios"]],decls:18,vars:8,consts:[[1,"container"],[1,"example-form","form-floating","p-2","m-2"],[1,"m-3","example-full-width"],["type","text","placeholder","","aria-label","Producto a buscar","matInput","",1,"example-full-width",3,"formControl","matAutocomplete","ngModel","ngModelChange","focus"],[1,"example-full-width"],["auto","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],["mat-stroked-button","","color","primary",1,"m-2",3,"click"],["mat-stroked-button","","color","warn","class","m-2",3,"click",4,"ngIf"],["class","container form-control form-floating",4,"ngIf"],[3,"value","click"],["mat-stroked-button","","color","warn",1,"m-2",3,"click"],[1,"container","form-control","form-floating"],["action","",3,"formGroup"],[1,"form-floating","m-3"],["id","producto","formControlName","producto",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["for","producto"],["type","number","id","floatingInput","placeholder","Stock","formControlName","stock",1,"form-control"],["for","floatingInput"],["class","form-text text-danger",4,"ngIf"],["type","number","id","floatingInput","placeholder","Stock M\xednimo","formControlName","stockMin",1,"form-control"],["type","number","id","floatingInput","placeholder","Stock M\xe1ximo","formControlName","stockMax",1,"form-control"],["type","number","id","floatingInput","placeholder","Precio de venta","formControlName","PrecioVenta",1,"form-control"],["type","number","id","floatingInput","placeholder","% Impuesto","formControlName","impuesto",1,"form-control"],["type","number","id","floatingInput","placeholder","% Descuento","formControlName","descuento",1,"form-control"],["class","form-floating m-5 p-1",4,"ngIf"],[3,"value"],[1,"form-text","text-danger"],[1,"form-floating","m-5","p-1"],[1,"float-md-end","m-3"],[1,"btn","btn-outline-success",3,"click"],[1,"btn","btn-outline-secondary",3,"click"]],template:function(o,i){if(1&o&&(t.TgZ(0,"div",0)(1,"h1"),t._uU(2,"Actualizaci\xf3n de inventarios"),t.qZA(),t._UZ(3,"hr"),t.TgZ(4,"div",0)(5,"form",1)(6,"mat-form-field",2)(7,"mat-label"),t._uU(8,"Producto a buscar"),t.qZA(),t.TgZ(9,"input",3),t.NdJ("ngModelChange",function(a){return i.criterio=a})("focus",function(){return i.limpiarInfo()}),t.qZA(),t.TgZ(10,"mat-autocomplete",4,5),t.YNc(12,Nt,2,2,"mat-option",6),t.ALo(13,"async"),t.qZA()(),t.TgZ(14,"button",7),t.NdJ("click",function(){return i.loadInfo()}),t._uU(15,"Visualizar"),t.qZA(),t.YNc(16,Jt,2,0,"button",8),t.qZA()(),t.YNc(17,Yt,38,9,"div",9),t.qZA()),2&o){const n=t.MAs(11);t.xp6(9),t.Q6J("formControl",i.myControl)("matAutocomplete",n)("ngModel",i.criterio),t.xp6(3),t.Q6J("ngForOf",t.lcZ(13,6,i.filteredOptions)),t.xp6(4),t.Q6J("ngIf",i.forLoad),t.xp6(1),t.Q6J("ngIf",i.forLoad)}},directives:[r._Y,r.JL,r.F,f.KE,f.hX,b.Nt,r.Fj,_.ZL,r.JJ,r.oH,_.XC,m.sg,x.ey,T.lW,m.O5,r.sg,r.EJ,r.u,r.YN,r.Kr,r.wV],pipes:[m.Ov],styles:[".example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}"]}),e})();function Dt(e,s){if(1&e){const o=t.EpF();t.TgZ(0,"mat-option",10),t.NdJ("click",function(){const a=t.CHM(o).$implicit;return t.oxw().selectForQuery(a)}),t._uU(1),t.qZA()}if(2&e){const o=s.$implicit;t.Q6J("value",o.producto),t.xp6(1),t.hij(" ",o.producto," ")}}function Ht(e,s){if(1&e){const o=t.EpF();t.TgZ(0,"button",11),t.NdJ("click",function(){return t.CHM(o),t.oxw().editable()}),t._uU(1,"Eliminar"),t.qZA()}}function Gt(e,s){if(1&e&&(t.TgZ(0,"option",27),t._uU(1),t.qZA()),2&e){const o=s.$implicit;t.s9C("value",o.idProductos),t.xp6(1),t.Oqu(o.producto)}}function zt(e,s){1&e&&(t.TgZ(0,"span",28),t._uU(1,"Este campo es obligatorio, mayor o igual a 0"),t.qZA())}function Xt(e,s){1&e&&(t.TgZ(0,"span",28),t._uU(1,"Este campo es obligatorio, mayor o igual a 0"),t.qZA())}function $t(e,s){1&e&&(t.TgZ(0,"span",28),t._uU(1,"Este campo es obligatorio, mayor o igual a 0"),t.qZA())}function Kt(e,s){1&e&&(t.TgZ(0,"span",28),t._uU(1,"Este campo es obligatorio, mayor a 0"),t.qZA())}function jt(e,s){1&e&&(t.TgZ(0,"span",28),t._uU(1,"Este campo es obligatorio, mayor a 0"),t.qZA())}function Wt(e,s){1&e&&(t.TgZ(0,"span",28),t._uU(1,"Este campo es obligatorio, mayor a 0"),t.qZA())}function Bt(e,s){if(1&e){const o=t.EpF();t.TgZ(0,"div",29)(1,"div",30)(2,"button",31),t.NdJ("click",function(){return t.CHM(o),t.oxw(2).deleteInventario()}),t._uU(3,"Eliminar"),t.qZA()(),t.TgZ(4,"div",30)(5,"button",32),t.NdJ("click",function(){return t.CHM(o),t.oxw(2).cancelar()}),t._uU(6,"Cancelar"),t.qZA()()()}}function Rt(e,s){if(1&e&&(t.TgZ(0,"div",12)(1,"form",13)(2,"div",14)(3,"select",15),t.YNc(4,Gt,2,2,"option",16),t.qZA(),t.TgZ(5,"label",17),t._uU(6,"Producto"),t.qZA()(),t.TgZ(7,"div",14),t._UZ(8,"input",18),t.TgZ(9,"label",19),t._uU(10,"Stock"),t.qZA(),t.YNc(11,zt,2,0,"span",20),t.qZA(),t.TgZ(12,"div",14),t._UZ(13,"input",21),t.TgZ(14,"label",19),t._uU(15,"Stock M\xednimo"),t.qZA(),t.YNc(16,Xt,2,0,"span",20),t.qZA(),t.TgZ(17,"div",14),t._UZ(18,"input",22),t.TgZ(19,"label",19),t._uU(20,"Stock M\xe1ximo"),t.qZA(),t.YNc(21,$t,2,0,"span",20),t.qZA(),t.TgZ(22,"div",14),t._UZ(23,"input",23),t.TgZ(24,"label",19),t._uU(25,"Precio de venta"),t.qZA(),t.YNc(26,Kt,2,0,"span",20),t.qZA(),t.TgZ(27,"div",14),t._UZ(28,"input",24),t.TgZ(29,"label",19),t._uU(30,"% Impuesto"),t.qZA(),t.YNc(31,jt,2,0,"span",20),t.qZA(),t.TgZ(32,"div",14),t._UZ(33,"input",25),t.TgZ(34,"label",19),t._uU(35,"% Descuento"),t.qZA(),t.YNc(36,Wt,2,0,"span",20),t.qZA(),t.YNc(37,Bt,7,0,"div",26),t.qZA()()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("formGroup",o.miForm),t.xp6(3),t.Q6J("ngForOf",o.productosL),t.xp6(7),t.Q6J("ngIf",o.ValidaCampo("stock")),t.xp6(5),t.Q6J("ngIf",o.ValidaCampo("stockMin")),t.xp6(5),t.Q6J("ngIf",o.ValidaCampo("stockMax")),t.xp6(5),t.Q6J("ngIf",o.ValidaCampo("PrecioVenta")),t.xp6(5),t.Q6J("ngIf",o.ValidaCampo("impuesto")),t.xp6(5),t.Q6J("ngIf",o.ValidaCampo("descuento")),t.xp6(1),t.Q6J("ngIf",o.editar)}}let to=(()=>{class e{constructor(o,i){this.fb=o,this.smgService=i,this.miForm=this.fb.group({producto:[,[r.kI.required]],stock:[0,[r.kI.required,r.kI.min(0)]],stockMin:[0,[r.kI.required,r.kI.min(0)]],stockMax:[0,[r.kI.required,r.kI.min(0)]],PrecioVenta:[0,[r.kI.required,r.kI.min(1)]],impuesto:[19,[r.kI.required,r.kI.min(0)]],descuento:[0,[r.kI.required,r.kI.min(0)]]}),this.productosL=[],this.stocksL=[],this.myControl=new r.NI,this.criterio="",this.productoO=[],this.forQuery=!1,this.forLoad=!1,this.editar=!1}ngOnInit(){this.loadProductos(),this.loadStocks(),this.filteredOptions=this.myControl.valueChanges.pipe((0,I.U)(o=>this._filter(o)))}_filter(o){(0,C.b)(200);const i=o.toLowerCase();return this.productosL.filter(n=>{var a;return null===(a=n.producto)||void 0===a?void 0:a.toLowerCase().includes(i)})||{producto:"No hay coincidencias"}}selectForQuery(o){this.forQuery=!0,localStorage.setItem("search",JSON.stringify(o)),this.selectedItem=JSON.parse(localStorage.getItem("search")||"")}loadProductos(){this.smgService.getAllProducts().subscribe(o=>{o.productos&&(this.productosL=o.productos[0])})}loadStocks(){this.smgService.getCompleteStock().subscribe(o=>{o.stocks&&(this.stocksL=o.stocks[0])})}setDefaultForm(){var o,i,n,a,c,d;null===(o=this.miForm.get("stock"))||void 0===o||o.setValue(0),null===(i=this.miForm.get("stockMin"))||void 0===i||i.setValue(0),null===(n=this.miForm.get("stockMax"))||void 0===n||n.setValue(0),null===(a=this.miForm.get("PrecioVenta"))||void 0===a||a.setValue(0),null===(c=this.miForm.get("impuesto"))||void 0===c||c.setValue(19),null===(d=this.miForm.get("descuento"))||void 0===d||d.setValue(0),this.forLoad=!1,this.loadStocks()}loadInfo(){var o,i,n,a,c,d,l;this.forQuery?(this.selectedProduct=JSON.parse(localStorage.getItem("search")||""),this.searchStock(this.selectedProduct.idProductos||0),this.selectedItem.length>0&&(null===(o=this.miForm.get("producto"))||void 0===o||o.setValue(this.selectedItem[0].producto),null===(i=this.miForm.get("stock"))||void 0===i||i.setValue(this.selectedItem[0].stock),null===(n=this.miForm.get("stockMin"))||void 0===n||n.setValue(this.selectedItem[0].stockMin),null===(a=this.miForm.get("stockMax"))||void 0===a||a.setValue(this.selectedItem[0].stockMax),null===(c=this.miForm.get("PrecioVenta"))||void 0===c||c.setValue(this.selectedItem[0].PrecioVenta),null===(d=this.miForm.get("impuesto"))||void 0===d||d.setValue(this.selectedItem[0].impuesto),null===(l=this.miForm.get("descuento"))||void 0===l||l.setValue(this.selectedItem[0].descuento),this.forLoad=!0)):u().fire({text:"No has seleccionado un producto aun",icon:"warning"})}ValidaCampo(o){return this.miForm.controls[o].errors&&this.miForm.controls[o].touched}limpiarInfo(){this.selectedItem=[],this.forLoad=!1,this.forQuery=!1,localStorage.removeItem("search"),this.miForm.reset(),this.miForm.disable(),this.editar=!1}editable(){this.editar=!0}cancelar(){this.editar=!1,this.miForm.reset(),this.limpiarInfo()}searchStock(o){this.selectedItem=this.stocksL.filter(i=>i.producto===o),0===this.selectedItem.length&&u().fire({icon:"error",title:"Oops...",text:"No se encontr\xf3 inventario para el producto"})}deleteInventario(){this.miForm.invalid?u().fire({icon:"info",title:"Oops...",text:"Hay cosas por corregir"}).then(i=>{this.miForm.markAllAsTouched()}):this.smgService.delInventario({idInventario:this.selectedItem[0].idInventario}).subscribe(i=>{if(i.error){const n=i.error.errors[0].msg,a=i.error.errors[0].param||"";u().fire({icon:"error",title:"Oops..."+a,text:n})}else u().fire({icon:"success",title:"Eliminaci\xf3n correcta",text:i.statusDescription}).then(n=>{this.miForm.reset(),this.stocksL=this.stocksL.filter(a=>a.idInventario!=this.selectedItem[0].idInventario),this.setDefaultForm(),this.selectedItem=[]})})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(r.qu),t.Y36(Z.G))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-del-inventarios"]],decls:18,vars:8,consts:[[1,"container"],[1,"example-form","form-floating","p-2","m-2"],[1,"m-3","example-full-width"],["type","text","placeholder","","aria-label","Producto a buscar","matInput","",1,"example-full-width",3,"formControl","matAutocomplete","ngModel","ngModelChange","focus"],[1,"example-full-width"],["auto","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],["mat-stroked-button","","color","primary",1,"m-2",3,"click"],["mat-stroked-button","","color","warn","class","m-2",3,"click",4,"ngIf"],["class","container form-control form-floating",4,"ngIf"],[3,"value","click"],["mat-stroked-button","","color","warn",1,"m-2",3,"click"],[1,"container","form-control","form-floating"],["action","",3,"formGroup"],[1,"form-floating","m-3"],["id","producto","formControlName","producto",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["for","producto"],["type","number","id","floatingInput","placeholder","Stock","formControlName","stock",1,"form-control"],["for","floatingInput"],["class","form-text text-danger",4,"ngIf"],["type","number","id","floatingInput","placeholder","Stock M\xednimo","formControlName","stockMin",1,"form-control"],["type","number","id","floatingInput","placeholder","Stock M\xe1ximo","formControlName","stockMax",1,"form-control"],["type","number","id","floatingInput","placeholder","Precio de venta","formControlName","PrecioVenta",1,"form-control"],["type","number","id","floatingInput","placeholder","% Impuesto","formControlName","impuesto",1,"form-control"],["type","number","id","floatingInput","placeholder","% Descuento","formControlName","descuento",1,"form-control"],["class","form-floating m-5 p-1",4,"ngIf"],[3,"value"],[1,"form-text","text-danger"],[1,"form-floating","m-5","p-1"],[1,"float-md-end","m-3"],[1,"btn","btn-outline-danger",3,"click"],[1,"btn","btn-outline-secondary",3,"click"]],template:function(o,i){if(1&o&&(t.TgZ(0,"div",0)(1,"h1"),t._uU(2,"Eliminaci\xf3n de inventarios"),t.qZA(),t._UZ(3,"hr"),t.TgZ(4,"div",0)(5,"form",1)(6,"mat-form-field",2)(7,"mat-label"),t._uU(8,"Producto a buscar"),t.qZA(),t.TgZ(9,"input",3),t.NdJ("ngModelChange",function(a){return i.criterio=a})("focus",function(){return i.limpiarInfo()}),t.qZA(),t.TgZ(10,"mat-autocomplete",4,5),t.YNc(12,Dt,2,2,"mat-option",6),t.ALo(13,"async"),t.qZA()(),t.TgZ(14,"button",7),t.NdJ("click",function(){return i.loadInfo()}),t._uU(15,"Visualizar"),t.qZA(),t.YNc(16,Ht,2,0,"button",8),t.qZA()(),t.YNc(17,Rt,38,9,"div",9),t.qZA()),2&o){const n=t.MAs(11);t.xp6(9),t.Q6J("formControl",i.myControl)("matAutocomplete",n)("ngModel",i.criterio),t.xp6(3),t.Q6J("ngForOf",t.lcZ(13,6,i.filteredOptions)),t.xp6(4),t.Q6J("ngIf",i.forLoad),t.xp6(1),t.Q6J("ngIf",i.forLoad)}},directives:[r._Y,r.JL,r.F,f.KE,f.hX,b.Nt,r.Fj,_.ZL,r.JJ,r.oH,_.XC,m.sg,x.ey,T.lW,m.O5,r.sg,r.EJ,r.u,r.YN,r.Kr,r.wV],pipes:[m.Ov],styles:[".example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}"]}),e})();var A=v(6856);function oo(e,s){if(1&e){const o=t.EpF();t.TgZ(0,"mat-option",9),t.NdJ("click",function(){const a=t.CHM(o).$implicit;return t.oxw().selectForQuery(a)}),t._uU(1),t.qZA()}if(2&e){const o=s.$implicit;t.Q6J("value",o.producto),t.xp6(1),t.hij(" ",o.producto," ")}}function eo(e,s){if(1&e&&(t.TgZ(0,"option",25),t._uU(1),t.qZA()),2&e){const o=s.$implicit;t.s9C("value",o.idProductos),t.xp6(1),t.Oqu(o.producto)}}function io(e,s){1&e&&(t.TgZ(0,"span",26),t._uU(1,"Este campo es obligatorio, mayor a 0"),t.qZA())}function ro(e,s){1&e&&(t.TgZ(0,"span",26),t._uU(1,"Este campo es obligatorio, mayor a 0"),t.qZA())}function no(e,s){if(1&e){const o=t.EpF();t.TgZ(0,"div",27)(1,"div",28)(2,"button",29),t.NdJ("click",function(){return t.CHM(o),t.oxw(2).createStockIn()}),t._uU(3,"Guardar"),t.qZA()()()}}function ao(e,s){if(1&e&&(t.TgZ(0,"div",10)(1,"form",11)(2,"div",12)(3,"select",13),t.YNc(4,eo,2,2,"option",14),t.qZA(),t.TgZ(5,"label",15),t._uU(6,"Producto"),t.qZA()(),t.TgZ(7,"div",12),t._UZ(8,"input",16),t.TgZ(9,"label",17),t._uU(10,"Cantidad"),t.qZA(),t.YNc(11,io,2,0,"span",18),t.qZA(),t.TgZ(12,"div",12),t._UZ(13,"input",19),t.TgZ(14,"label",17),t._uU(15,"Precio"),t.qZA(),t.YNc(16,ro,2,0,"span",18),t.qZA(),t.TgZ(17,"div",12)(18,"mat-form-field",20)(19,"mat-label"),t._uU(20,"Fecha"),t.qZA(),t._UZ(21,"input",21)(22,"mat-datepicker-toggle",22)(23,"mat-datepicker",null,23),t.qZA()(),t.YNc(25,no,4,0,"div",24),t.qZA()()),2&e){const o=t.MAs(24),i=t.oxw();t.xp6(1),t.Q6J("formGroup",i.miForm),t.xp6(3),t.Q6J("ngForOf",i.productosL),t.xp6(7),t.Q6J("ngIf",i.ValidaCampo("cantidad")),t.xp6(5),t.Q6J("ngIf",i.ValidaCampo("Precio")),t.xp6(5),t.Q6J("matDatepicker",o),t.xp6(1),t.Q6J("for",o),t.xp6(3),t.Q6J("ngIf",i.editar)}}function co(e,s){if(1&e){const o=t.EpF();t.TgZ(0,"mat-option",9),t.NdJ("click",function(){const a=t.CHM(o).$implicit;return t.oxw().selectForQuery(a)}),t._uU(1),t.qZA()}if(2&e){const o=s.$implicit;t.Q6J("value",o.producto),t.xp6(1),t.hij(" ",o.producto," ")}}function lo(e,s){if(1&e&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA()()),2&e){const o=s.$implicit;t.xp6(2),t.Oqu(o.cantidad),t.xp6(2),t.Oqu(o.Precio),t.xp6(2),t.Oqu(o.dia),t.xp6(2),t.Oqu(o.mes),t.xp6(2),t.Oqu(o.anio)}}function uo(e,s){if(1&e&&(t.TgZ(0,"div",0)(1,"table",10)(2,"thead")(3,"tr")(4,"th"),t._uU(5,"Cantidad"),t.qZA(),t.TgZ(6,"th"),t._uU(7,"Precio"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Dia"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Mes"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"A\xf1o"),t.qZA()()(),t.TgZ(14,"tbody"),t.YNc(15,lo,11,5,"tr",11),t.qZA()()()),2&e){const o=t.oxw();t.xp6(15),t.Q6J("ngForOf",o.entradas)}}function po(e,s){if(1&e){const o=t.EpF();t.TgZ(0,"mat-option",10),t.NdJ("click",function(){const a=t.CHM(o).$implicit;return t.oxw().selectForQuery(a)}),t._uU(1),t.qZA()}if(2&e){const o=s.$implicit;t.Q6J("value",o.producto),t.xp6(1),t.hij(" ",o.producto," ")}}function fo(e,s){if(1&e){const o=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td")(12,"a",13),t.NdJ("click",function(){const a=t.CHM(o).$implicit;return t.oxw(2).infoModal(a)}),t._uU(13,"Editar"),t.qZA()()()}if(2&e){const o=s.$implicit;t.xp6(2),t.Oqu(o.cantidad),t.xp6(2),t.Oqu(o.Precio),t.xp6(2),t.Oqu(o.dia),t.xp6(2),t.Oqu(o.mes),t.xp6(2),t.Oqu(o.anio)}}function _o(e,s){if(1&e&&(t.TgZ(0,"div",0)(1,"table",11)(2,"thead")(3,"tr")(4,"th"),t._uU(5,"Cantidad"),t.qZA(),t.TgZ(6,"th"),t._uU(7,"Precio"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Dia"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Mes"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"A\xf1o"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Acci\xf3n"),t.qZA()()(),t.TgZ(16,"tbody"),t.YNc(17,fo,14,5,"tr",12),t.qZA()()()),2&e){const o=t.oxw();t.xp6(17),t.Q6J("ngForOf",o.entradas)}}function go(e,s){if(1&e&&(t.TgZ(0,"option",29),t._uU(1),t.qZA()),2&e){const o=s.$implicit;t.s9C("value",o.idProductos),t.xp6(1),t.Oqu(o.producto)}}function ho(e,s){1&e&&(t.TgZ(0,"span",30),t._uU(1,"Este campo es obligatorio, mayor a 0"),t.qZA())}function vo(e,s){1&e&&(t.TgZ(0,"span",30),t._uU(1,"Este campo es obligatorio, mayor a 0"),t.qZA())}function Zo(e,s){if(1&e){const o=t.EpF();t.TgZ(0,"div",31)(1,"div",32)(2,"button",33),t.NdJ("click",function(){return t.CHM(o),t.oxw(2).updateStockIn()}),t._uU(3,"Guardar"),t.qZA()()()}}function Io(e,s){if(1&e&&(t.TgZ(0,"div",14)(1,"form",15)(2,"div",16)(3,"select",17),t.YNc(4,go,2,2,"option",18),t.qZA(),t.TgZ(5,"label",19),t._uU(6,"Producto"),t.qZA()(),t.TgZ(7,"div",16),t._UZ(8,"input",20),t.TgZ(9,"label",21),t._uU(10,"Cantidad"),t.qZA(),t.YNc(11,ho,2,0,"span",22),t.qZA(),t.TgZ(12,"div",16),t._UZ(13,"input",23),t.TgZ(14,"label",21),t._uU(15,"Precio"),t.qZA(),t.YNc(16,vo,2,0,"span",22),t.qZA(),t.TgZ(17,"div",16)(18,"mat-form-field",24)(19,"mat-label"),t._uU(20,"Fecha"),t.qZA(),t._UZ(21,"input",25)(22,"mat-datepicker-toggle",26)(23,"mat-datepicker",null,27),t.qZA()(),t.YNc(25,Zo,4,0,"div",28),t.qZA()()),2&e){const o=t.MAs(24),i=t.oxw();t.xp6(1),t.Q6J("formGroup",i.miForm),t.xp6(3),t.Q6J("ngForOf",i.productosL),t.xp6(7),t.Q6J("ngIf",i.ValidaCampo("cantidad")),t.xp6(5),t.Q6J("ngIf",i.ValidaCampo("Precio")),t.xp6(5),t.Q6J("matDatepicker",o),t.xp6(1),t.Q6J("for",o),t.xp6(3),t.Q6J("ngIf",i.editar)}}function bo(e,s){if(1&e){const o=t.EpF();t.TgZ(0,"mat-option",10),t.NdJ("click",function(){const a=t.CHM(o).$implicit;return t.oxw().selectForQuery(a)}),t._uU(1),t.qZA()}if(2&e){const o=s.$implicit;t.Q6J("value",o.producto),t.xp6(1),t.hij(" ",o.producto," ")}}function xo(e,s){if(1&e){const o=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td")(12,"a",13),t.NdJ("click",function(){const a=t.CHM(o).$implicit;return t.oxw(2).infoModal(a)}),t._uU(13,"Eliminar"),t.qZA()()()}if(2&e){const o=s.$implicit;t.xp6(2),t.Oqu(o.cantidad),t.xp6(2),t.Oqu(o.Precio),t.xp6(2),t.Oqu(o.dia),t.xp6(2),t.Oqu(o.mes),t.xp6(2),t.Oqu(o.anio)}}function To(e,s){if(1&e&&(t.TgZ(0,"div",0)(1,"table",11)(2,"thead")(3,"tr")(4,"th"),t._uU(5,"Cantidad"),t.qZA(),t.TgZ(6,"th"),t._uU(7,"Precio"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Dia"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Mes"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"A\xf1o"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Acci\xf3n"),t.qZA()()(),t.TgZ(16,"tbody"),t.YNc(17,xo,14,5,"tr",12),t.qZA()()()),2&e){const o=t.oxw();t.xp6(17),t.Q6J("ngForOf",o.entradas)}}function Ao(e,s){if(1&e&&(t.TgZ(0,"option",29),t._uU(1),t.qZA()),2&e){const o=s.$implicit;t.s9C("value",o.idProductos),t.xp6(1),t.Oqu(o.producto)}}function qo(e,s){1&e&&(t.TgZ(0,"span",30),t._uU(1,"Este campo es obligatorio, mayor a 0"),t.qZA())}function Fo(e,s){1&e&&(t.TgZ(0,"span",30),t._uU(1,"Este campo es obligatorio, mayor a 0"),t.qZA())}function ko(e,s){if(1&e){const o=t.EpF();t.TgZ(0,"div",31)(1,"div",32)(2,"button",33),t.NdJ("click",function(){return t.CHM(o),t.oxw(2).deleteStockIn()}),t._uU(3,"Eliminar"),t.qZA()()()}}function Uo(e,s){if(1&e&&(t.TgZ(0,"div",14)(1,"form",15)(2,"div",16)(3,"select",17),t.YNc(4,Ao,2,2,"option",18),t.qZA(),t.TgZ(5,"label",19),t._uU(6,"Producto"),t.qZA()(),t.TgZ(7,"div",16),t._UZ(8,"input",20),t.TgZ(9,"label",21),t._uU(10,"Cantidad"),t.qZA(),t.YNc(11,qo,2,0,"span",22),t.qZA(),t.TgZ(12,"div",16),t._UZ(13,"input",23),t.TgZ(14,"label",21),t._uU(15,"Precio"),t.qZA(),t.YNc(16,Fo,2,0,"span",22),t.qZA(),t.TgZ(17,"div",16)(18,"mat-form-field",24)(19,"mat-label"),t._uU(20,"Fecha"),t.qZA(),t._UZ(21,"input",25)(22,"mat-datepicker-toggle",26)(23,"mat-datepicker",null,27),t.qZA()(),t.YNc(25,ko,4,0,"div",28),t.qZA()()),2&e){const o=t.MAs(24),i=t.oxw();t.xp6(1),t.Q6J("formGroup",i.miForm),t.xp6(3),t.Q6J("ngForOf",i.productosL),t.xp6(7),t.Q6J("ngIf",i.ValidaCampo("cantidad")),t.xp6(5),t.Q6J("ngIf",i.ValidaCampo("Precio")),t.xp6(5),t.Q6J("matDatepicker",o),t.xp6(1),t.Q6J("for",o),t.xp6(3),t.Q6J("ngIf",i.editar)}}function No(e,s){1&e&&(t.TgZ(0,"span",14),t._uU(1,"Este campo es obligatorio, mas de 3 caracteres"),t.qZA())}function Jo(e,s){1&e&&(t.TgZ(0,"span",14),t._uU(1,"Este campo es obligatorio, mas de 3 caracteres"),t.qZA())}function So(e,s){1&e&&(t.TgZ(0,"span",14),t._uU(1,"Este campo es obligatorio, m\xednimo 1"),t.qZA())}function Po(e,s){1&e&&(t.TgZ(0,"span",14),t._uU(1,"Este campo es obligatorio, mayor o igual a 0"),t.qZA())}function Oo(e,s){1&e&&(t.TgZ(0,"span",14),t._uU(1,"Este campo es obligatorio, mayor o igual a 0"),t.qZA())}function wo(e,s){if(1&e){const o=t.EpF();t.TgZ(0,"mat-option",9),t.NdJ("click",function(){const a=t.CHM(o).$implicit;return t.oxw().selectForQuery(a)}),t._uU(1),t.qZA()}if(2&e){const o=s.$implicit;t.Q6J("value",o.servicio),t.xp6(1),t.hij(" ",o.servicio," ")}}function Qo(e,s){1&e&&(t.TgZ(0,"span",20),t._uU(1,"Este campo es obligatorio, mas de 3 caracteres"),t.qZA())}function Lo(e,s){1&e&&(t.TgZ(0,"span",20),t._uU(1,"Este campo es obligatorio, mas de 3 caracteres"),t.qZA())}function Vo(e,s){1&e&&(t.TgZ(0,"span",20),t._uU(1,"Este campo es obligatorio, m\xednimo 1"),t.qZA())}function Yo(e,s){1&e&&(t.TgZ(0,"span",20),t._uU(1,"Este campo es obligatorio, mayor o igual a 0"),t.qZA())}function Eo(e,s){1&e&&(t.TgZ(0,"span",20),t._uU(1,"Este campo es obligatorio, mayor o igual a 0"),t.qZA())}function Do(e,s){if(1&e&&(t.TgZ(0,"div",10)(1,"form",11)(2,"div",12),t._UZ(3,"input",13),t.TgZ(4,"label",14),t._uU(5,"Nombre servicio"),t.qZA(),t.YNc(6,Qo,2,0,"span",15),t.qZA(),t.TgZ(7,"div",12),t._UZ(8,"input",16),t.TgZ(9,"label",14),t._uU(10,"Descripci\xf3n"),t.qZA(),t.YNc(11,Lo,2,0,"span",15),t.qZA(),t.TgZ(12,"div",12),t._UZ(13,"input",17),t.TgZ(14,"label",14),t._uU(15,"Precio"),t.qZA(),t.YNc(16,Vo,2,0,"span",15),t.qZA(),t.TgZ(17,"div",12),t._UZ(18,"input",18),t.TgZ(19,"label",14),t._uU(20,"% Impuesto"),t.qZA(),t.YNc(21,Yo,2,0,"span",15),t.qZA(),t.TgZ(22,"div",12),t._UZ(23,"input",19),t.TgZ(24,"label",14),t._uU(25,"% Descuento"),t.qZA(),t.YNc(26,Eo,2,0,"span",15),t.qZA()()()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("formGroup",o.miForm),t.xp6(5),t.Q6J("ngIf",o.ValidaCampo("servicio")),t.xp6(5),t.Q6J("ngIf",o.ValidaCampo("descripcion")),t.xp6(5),t.Q6J("ngIf",o.ValidaCampo("precio")),t.xp6(5),t.Q6J("ngIf",o.ValidaCampo("impuesto")),t.xp6(5),t.Q6J("ngIf",o.ValidaCampo("descuento"))}}function Go(e,s){if(1&e){const o=t.EpF();t.TgZ(0,"mat-option",10),t.NdJ("click",function(){const a=t.CHM(o).$implicit;return t.oxw().selectForQuery(a)}),t._uU(1),t.qZA()}if(2&e){const o=s.$implicit;t.Q6J("value",o.servicio),t.xp6(1),t.hij(" ",o.servicio," ")}}function zo(e,s){if(1&e){const o=t.EpF();t.TgZ(0,"button",11),t.NdJ("click",function(){return t.CHM(o),t.oxw().editable()}),t._uU(1,"Eliminar"),t.qZA()}}function Xo(e,s){1&e&&(t.TgZ(0,"span",23),t._uU(1,"Este campo es obligatorio, mas de 3 caracteres"),t.qZA())}function $o(e,s){1&e&&(t.TgZ(0,"span",23),t._uU(1,"Este campo es obligatorio, mas de 3 caracteres"),t.qZA())}function Ko(e,s){1&e&&(t.TgZ(0,"span",23),t._uU(1,"Este campo es obligatorio, m\xednimo 1"),t.qZA())}function jo(e,s){1&e&&(t.TgZ(0,"span",23),t._uU(1,"Este campo es obligatorio, mayor o igual a 0"),t.qZA())}function Wo(e,s){1&e&&(t.TgZ(0,"span",23),t._uU(1,"Este campo es obligatorio, mayor o igual a 0"),t.qZA())}function Bo(e,s){if(1&e){const o=t.EpF();t.TgZ(0,"div",24)(1,"div",25)(2,"button",26),t.NdJ("click",function(){return t.CHM(o),t.oxw(2).deleteServicio()}),t._uU(3,"Eliminar"),t.qZA()(),t.TgZ(4,"div",25)(5,"button",27),t.NdJ("click",function(){return t.CHM(o),t.oxw(2).cancelar()}),t._uU(6,"Cancelar"),t.qZA()()()}}function Ro(e,s){if(1&e&&(t.TgZ(0,"div",12)(1,"form",13)(2,"div",14),t._UZ(3,"input",15),t.TgZ(4,"label",16),t._uU(5,"Nombre servicio"),t.qZA(),t.YNc(6,Xo,2,0,"span",17),t.qZA(),t.TgZ(7,"div",14),t._UZ(8,"input",18),t.TgZ(9,"label",16),t._uU(10,"Descripci\xf3n"),t.qZA(),t.YNc(11,$o,2,0,"span",17),t.qZA(),t.TgZ(12,"div",14),t._UZ(13,"input",19),t.TgZ(14,"label",16),t._uU(15,"Precio"),t.qZA(),t.YNc(16,Ko,2,0,"span",17),t.qZA(),t.TgZ(17,"div",14),t._UZ(18,"input",20),t.TgZ(19,"label",16),t._uU(20,"% Impuesto"),t.qZA(),t.YNc(21,jo,2,0,"span",17),t.qZA(),t.TgZ(22,"div",14),t._UZ(23,"input",21),t.TgZ(24,"label",16),t._uU(25,"% Descuento"),t.qZA(),t.YNc(26,Wo,2,0,"span",17),t.qZA(),t.YNc(27,Bo,7,0,"div",22),t.qZA()()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("formGroup",o.miForm),t.xp6(5),t.Q6J("ngIf",o.ValidaCampo("servicio")),t.xp6(5),t.Q6J("ngIf",o.ValidaCampo("descripcion")),t.xp6(5),t.Q6J("ngIf",o.ValidaCampo("precio")),t.xp6(5),t.Q6J("ngIf",o.ValidaCampo("impuesto")),t.xp6(5),t.Q6J("ngIf",o.ValidaCampo("descuento")),t.xp6(1),t.Q6J("ngIf",o.editar)}}function oe(e,s){if(1&e){const o=t.EpF();t.TgZ(0,"mat-option",10),t.NdJ("click",function(){const a=t.CHM(o).$implicit;return t.oxw().selectForQuery(a)}),t._uU(1),t.qZA()}if(2&e){const o=s.$implicit;t.Q6J("value",o.servicio),t.xp6(1),t.hij(" ",o.servicio," ")}}function ee(e,s){if(1&e){const o=t.EpF();t.TgZ(0,"button",11),t.NdJ("click",function(){return t.CHM(o),t.oxw().editable()}),t._uU(1,"Editar"),t.qZA()}}function ie(e,s){1&e&&(t.TgZ(0,"span",23),t._uU(1,"Este campo es obligatorio, mas de 3 caracteres"),t.qZA())}function re(e,s){1&e&&(t.TgZ(0,"span",23),t._uU(1,"Este campo es obligatorio, mas de 3 caracteres"),t.qZA())}function ne(e,s){1&e&&(t.TgZ(0,"span",23),t._uU(1,"Este campo es obligatorio, m\xednimo 1"),t.qZA())}function ae(e,s){1&e&&(t.TgZ(0,"span",23),t._uU(1,"Este campo es obligatorio, mayor o igual a 0"),t.qZA())}function se(e,s){1&e&&(t.TgZ(0,"span",23),t._uU(1,"Este campo es obligatorio, mayor o igual a 0"),t.qZA())}function ce(e,s){if(1&e){const o=t.EpF();t.TgZ(0,"div",24)(1,"div",25)(2,"button",26),t.NdJ("click",function(){return t.CHM(o),t.oxw(2).updateServicio()}),t._uU(3,"Guardar"),t.qZA()(),t.TgZ(4,"div",25)(5,"button",27),t.NdJ("click",function(){return t.CHM(o),t.oxw(2).cancelar()}),t._uU(6,"Cancelar"),t.qZA()()()}}function le(e,s){if(1&e&&(t.TgZ(0,"div",12)(1,"form",13)(2,"div",14),t._UZ(3,"input",15),t.TgZ(4,"label",16),t._uU(5,"Nombre servicio"),t.qZA(),t.YNc(6,ie,2,0,"span",17),t.qZA(),t.TgZ(7,"div",14),t._UZ(8,"input",18),t.TgZ(9,"label",16),t._uU(10,"Descripci\xf3n"),t.qZA(),t.YNc(11,re,2,0,"span",17),t.qZA(),t.TgZ(12,"div",14),t._UZ(13,"input",19),t.TgZ(14,"label",16),t._uU(15,"Precio"),t.qZA(),t.YNc(16,ne,2,0,"span",17),t.qZA(),t.TgZ(17,"div",14),t._UZ(18,"input",20),t.TgZ(19,"label",16),t._uU(20,"% Impuesto"),t.qZA(),t.YNc(21,ae,2,0,"span",17),t.qZA(),t.TgZ(22,"div",14),t._UZ(23,"input",21),t.TgZ(24,"label",16),t._uU(25,"% Descuento"),t.qZA(),t.YNc(26,se,2,0,"span",17),t.qZA(),t.YNc(27,ce,7,0,"div",22),t.qZA()()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("formGroup",o.miForm),t.xp6(5),t.Q6J("ngIf",o.ValidaCampo("servicio")),t.xp6(5),t.Q6J("ngIf",o.ValidaCampo("descripcion")),t.xp6(5),t.Q6J("ngIf",o.ValidaCampo("precio")),t.xp6(5),t.Q6J("ngIf",o.ValidaCampo("impuesto")),t.xp6(5),t.Q6J("ngIf",o.ValidaCampo("descuento")),t.xp6(1),t.Q6J("ngIf",o.editar)}}const de=[{path:"",component:N,canActivate:[p.z],canLoad:[p.z],children:[{path:"createProducto",component:Q,canActivate:[p.z],canLoad:[p.z]},{path:"findProducto",component:z,canActivate:[p.z],canLoad:[p.z]},{path:"deleteProducto",component:et,canActivate:[p.z],canLoad:[p.z]},{path:"updateProducto",component:mt,canActivate:[p.z],canLoad:[p.z]},{path:"createInventario",component:It,canActivate:[p.z],canLoad:[p.z]},{path:"findInventario",component:yt,canActivate:[p.z],canLoad:[p.z]},{path:"updateInventario",component:Et,canActivate:[p.z],canLoad:[p.z]},{path:"deleteInventario",component:to,canActivate:[p.z],canLoad:[p.z]},{path:"createStock",component:(()=>{class e{constructor(o,i){this.fb=o,this.smgService=i,this.miForm=this.fb.group({producto:[,[r.kI.required]],cantidad:[0,[r.kI.required,r.kI.min(0)]],Precio:[0,[r.kI.required,r.kI.min(0)]],fecha:[0,[r.kI.required]]}),this.productosL=[],this.myControl=new r.NI,this.criterio="",this.productoO=[],this.forQuery=!1,this.forLoad=!1,this.editar=!1}ngOnInit(){this.loadProductos(),this.filteredOptions=this.myControl.valueChanges.pipe((0,I.U)(o=>this._filter(o)))}_filter(o){(0,C.b)(200);const i=o.toLowerCase();return this.productosL.filter(n=>{var a;return null===(a=n.producto)||void 0===a?void 0:a.toLowerCase().includes(i)})||{producto:"No hay coincidencias"}}selectForQuery(o){this.forQuery=!0,localStorage.setItem("search",JSON.stringify(o))}loadProductos(){this.smgService.getAllProducts().subscribe(o=>{o.productos&&(this.productosL=o.productos[0])})}loadInfo(){var o,i;this.forQuery?(this.selectedProduct=JSON.parse(localStorage.getItem("search")||""),null===(o=this.miForm.get("producto"))||void 0===o||o.setValue(this.selectedProduct.idProductos),this.miForm.enable(),null===(i=this.miForm.get("producto"))||void 0===i||i.disable(),this.forLoad=!0,this.editar=!0):u().fire({text:"No has seleccionado un producto aun",icon:"warning"})}limpiarInfo(){this.forLoad=!1,this.forQuery=!1,localStorage.removeItem("search"),this.miForm.reset(),this.miForm.disable(),this.editar=!1}ValidaCampo(o){return this.miForm.controls[o].errors&&this.miForm.controls[o].touched}createStockIn(){var o,i,n;if(this.miForm.invalid)return void u().fire({icon:"info",title:"Oops...",text:"Hay cosas por corregir"}).then(l=>{this.miForm.markAllAsTouched()});const a=new Date(null===(o=this.miForm.get("fecha"))||void 0===o?void 0:o.value);let c=parseInt(a.getMonth().toString())+1;const d={producto:this.selectedProduct.idProductos,cantidad:null===(i=this.miForm.get("cantidad"))||void 0===i?void 0:i.value,Precio:null===(n=this.miForm.get("Precio"))||void 0===n?void 0:n.value,dia:a.getDate(),mes:c,anio:a.getFullYear()};this.smgService.cIngresosInv(d).subscribe(l=>{if(l.error){const h=l.error.errors[0].msg,g=l.error.errors[0].param||"";u().fire({icon:"error",title:"Oops..."+g,text:h})}else u().fire({icon:"success",title:"Creaci\xf3n correcta",text:l.statusDescription}).then(h=>{this.miForm.reset(),this.limpiarInfo()})})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(r.qu),t.Y36(Z.G))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-ingresos-inventario"]],decls:17,vars:7,consts:[[1,"container"],[1,"example-form","form-floating","p-2","m-2"],[1,"m-3","example-full-width"],["type","text","placeholder","","aria-label","Producto a buscar","matInput","",1,"example-full-width",3,"formControl","matAutocomplete","ngModel","ngModelChange","focus"],[1,"example-full-width"],["auto","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],["mat-stroked-button","","color","primary",1,"m-2",3,"click"],["class","container form-control form-floating",4,"ngIf"],[3,"value","click"],[1,"container","form-control","form-floating"],["action","",3,"formGroup"],[1,"form-floating","m-3"],["id","producto","formControlName","producto",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["for","producto"],["type","number","id","floatingInput","placeholder","Cantidad","formControlName","cantidad",1,"form-control"],["for","floatingInput"],["class","form-text text-danger",4,"ngIf"],["type","number","id","floatingInput","placeholder","Precio","formControlName","Precio",1,"form-control"],[1,"m-3"],["matInput","","placeholder","Fecha DD/MM/YYYY","formControlName","fecha",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["class","form-floating m-5 p-1",4,"ngIf"],[3,"value"],[1,"form-text","text-danger"],[1,"form-floating","m-5","p-1"],[1,"float-md-end","m-3"],[1,"btn","btn-outline-danger",3,"click"]],template:function(o,i){if(1&o&&(t.TgZ(0,"div",0)(1,"h1"),t._uU(2,"Creaci\xf3n ingresos de inventario"),t.qZA(),t._UZ(3,"hr"),t.TgZ(4,"div",0)(5,"form",1)(6,"mat-form-field",2)(7,"mat-label"),t._uU(8,"Producto a buscar"),t.qZA(),t.TgZ(9,"input",3),t.NdJ("ngModelChange",function(a){return i.criterio=a})("focus",function(){return i.limpiarInfo()}),t.qZA(),t.TgZ(10,"mat-autocomplete",4,5),t.YNc(12,oo,2,2,"mat-option",6),t.ALo(13,"async"),t.qZA()(),t.TgZ(14,"button",7),t.NdJ("click",function(){return i.loadInfo()}),t._uU(15,"Seleccionar"),t.qZA()()(),t.YNc(16,ao,26,7,"div",8),t.qZA()),2&o){const n=t.MAs(11);t.xp6(9),t.Q6J("formControl",i.myControl)("matAutocomplete",n)("ngModel",i.criterio),t.xp6(3),t.Q6J("ngForOf",t.lcZ(13,5,i.filteredOptions)),t.xp6(4),t.Q6J("ngIf",i.forLoad)}},directives:[r._Y,r.JL,r.F,f.KE,f.hX,b.Nt,r.Fj,_.ZL,r.JJ,r.oH,_.XC,m.sg,x.ey,T.lW,m.O5,r.sg,r.EJ,r.u,r.YN,r.Kr,r.wV,A.hl,A.nW,f.R9,A.Mq],pipes:[m.Ov],styles:[".example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}"]}),e})(),canActivate:[p.z],canLoad:[p.z]},{path:"findStock",component:(()=>{class e{constructor(o,i){this.fb=o,this.smgService=i,this.miForm=this.fb.group({producto:[,[r.kI.required]],cantidad:[0,[r.kI.required,r.kI.min(0)]],Precio:[0,[r.kI.required,r.kI.min(0)]],fecha:[0,[r.kI.required]]}),this.productosL=[],this.StockInL=[],this.entradas=[],this.myControl=new r.NI,this.criterio="",this.productoO=[],this.forQuery=!1,this.forLoad=!1,this.editar=!1}ngOnInit(){this.loadProductos(),this.loadStockIn(),this.filteredOptions=this.myControl.valueChanges.pipe((0,I.U)(o=>this._filter(o)))}_filter(o){(0,C.b)(200);const i=o.toLowerCase();return this.productosL.filter(n=>{var a;return null===(a=n.producto)||void 0===a?void 0:a.toLowerCase().includes(i)})||{producto:"No hay coincidencias"}}selectForQuery(o){this.forQuery=!0,localStorage.setItem("search",JSON.stringify(o))}loadProductos(){this.smgService.getAllProducts().subscribe(o=>{o.productos&&(this.productosL=o.productos[0])})}loadStockIn(){this.smgService.getAllIngresosInv().subscribe(o=>{o.entradas&&(this.StockInL=o.entradas[0])})}loadInfo(){var o,i;this.forQuery?(this.selectedProduct=JSON.parse(localStorage.getItem("search")||""),this.entradas=this.StockInL.filter(n=>n.producto===this.selectedProduct.idProductos),0!==this.entradas.length?(null===(o=this.miForm.get("producto"))||void 0===o||o.setValue(this.selectedProduct.idProductos),this.miForm.enable(),null===(i=this.miForm.get("producto"))||void 0===i||i.disable(),this.forLoad=!0,this.editar=!0):u().fire({text:"No hay registros",icon:"warning"})):u().fire({text:"No has seleccionado un producto aun",icon:"warning"})}limpiarInfo(){this.forLoad=!1,this.forQuery=!1,localStorage.removeItem("search"),this.miForm.reset(),this.miForm.disable(),this.editar=!1}ValidaCampo(o){return this.miForm.controls[o].errors&&this.miForm.controls[o].touched}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(r.qu),t.Y36(Z.G))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-find-ingreso"]],decls:17,vars:7,consts:[[1,"container"],[1,"example-form","form-floating","p-2","m-2"],[1,"m-3","example-full-width"],["type","text","placeholder","","aria-label","Producto a buscar","matInput","",1,"example-full-width",3,"formControl","matAutocomplete","ngModel","ngModelChange","focus"],[1,"example-full-width"],["auto","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],["mat-stroked-button","","color","primary",1,"m-2",3,"click"],["class","container",4,"ngIf"],[3,"value","click"],[1,"table","table-striped","table-hover"],[4,"ngFor","ngForOf"]],template:function(o,i){if(1&o&&(t.TgZ(0,"div",0)(1,"h1"),t._uU(2,"B\xfasqueda ingresos de inventario"),t.qZA(),t._UZ(3,"hr"),t.TgZ(4,"div",0)(5,"form",1)(6,"mat-form-field",2)(7,"mat-label"),t._uU(8,"Producto a buscar"),t.qZA(),t.TgZ(9,"input",3),t.NdJ("ngModelChange",function(a){return i.criterio=a})("focus",function(){return i.limpiarInfo()}),t.qZA(),t.TgZ(10,"mat-autocomplete",4,5),t.YNc(12,co,2,2,"mat-option",6),t.ALo(13,"async"),t.qZA()(),t.TgZ(14,"button",7),t.NdJ("click",function(){return i.loadInfo()}),t._uU(15,"Seleccionar"),t.qZA()()(),t.YNc(16,uo,16,1,"div",8),t.qZA()),2&o){const n=t.MAs(11);t.xp6(9),t.Q6J("formControl",i.myControl)("matAutocomplete",n)("ngModel",i.criterio),t.xp6(3),t.Q6J("ngForOf",t.lcZ(13,5,i.filteredOptions)),t.xp6(4),t.Q6J("ngIf",i.forLoad)}},directives:[r._Y,r.JL,r.F,f.KE,f.hX,b.Nt,r.Fj,_.ZL,r.JJ,r.oH,_.XC,m.sg,x.ey,T.lW,m.O5],pipes:[m.Ov],styles:[".example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}"]}),e})(),canActivate:[p.z],canLoad:[p.z]},{path:"updateStock",component:(()=>{class e{constructor(o,i){this.fb=o,this.smgService=i,this.miForm=this.fb.group({producto:[,[r.kI.required]],cantidad:[0,[r.kI.required,r.kI.min(0)]],Precio:[0,[r.kI.required,r.kI.min(0)]],fecha:[0,[r.kI.required]]}),this.productosL=[],this.StockInL=[],this.entradas=[],this.myControl=new r.NI,this.criterio="",this.productoO=[],this.forQuery=!1,this.forLoad=!1,this.editar=!1}ngOnInit(){this.loadProductos(),this.loadStockIn(),this.filteredOptions=this.myControl.valueChanges.pipe((0,I.U)(o=>this._filter(o)))}_filter(o){(0,C.b)(200);const i=o.toLowerCase();return this.productosL.filter(n=>{var a;return null===(a=n.producto)||void 0===a?void 0:a.toLowerCase().includes(i)})||{producto:"No hay coincidencias"}}selectForQuery(o){this.forQuery=!0,localStorage.setItem("search",JSON.stringify(o))}loadProductos(){this.smgService.getAllProducts().subscribe(o=>{o.productos&&(this.productosL=o.productos[0])})}loadStockIn(){this.smgService.getAllIngresosInv().subscribe(o=>{o.entradas&&(this.StockInL=o.entradas[0])})}infoModal(o){var i,n,a;this.selectedStockIn=o,null===(i=this.miForm.get("cantidad"))||void 0===i||i.setValue(o.cantidad),null===(n=this.miForm.get("Precio"))||void 0===n||n.setValue(o.Precio);const d=new Date(o.anio||1900,o.mes?o.mes-1:1,o.dia||1);null===(a=this.miForm.get("fecha"))||void 0===a||a.setValue(d),this.forLoad=!1,this.editar=!0}loadInfo(){var o,i;this.forQuery?(this.selectedProduct=JSON.parse(localStorage.getItem("search")||""),this.entradas=this.StockInL.filter(n=>n.producto===this.selectedProduct.idProductos),0!==this.entradas.length?(null===(o=this.miForm.get("producto"))||void 0===o||o.setValue(this.selectedProduct.idProductos),this.miForm.enable(),null===(i=this.miForm.get("producto"))||void 0===i||i.disable(),this.forLoad=!0):u().fire({text:"No hay registros",icon:"warning"})):u().fire({text:"No has seleccionado un producto aun",icon:"warning"})}limpiarInfo(){this.loadStockIn(),this.forLoad=!1,this.forQuery=!1,localStorage.removeItem("search"),this.miForm.reset(),this.miForm.disable(),this.editar=!1}ValidaCampo(o){return this.miForm.controls[o].errors&&this.miForm.controls[o].touched}updateStockIn(){var o,i,n;if(this.miForm.invalid)return void u().fire({icon:"info",title:"Oops...",text:"Hay cosas por corregir"}).then(l=>{this.miForm.markAllAsTouched()});const a=new Date(null===(o=this.miForm.get("fecha"))||void 0===o?void 0:o.value);let c=parseInt(a.getMonth().toString())+1;const d={idingresosInventario:this.selectedStockIn.idingresosInventario,producto:this.selectedProduct.idProductos,cantidad:null===(i=this.miForm.get("cantidad"))||void 0===i?void 0:i.value,Precio:null===(n=this.miForm.get("Precio"))||void 0===n?void 0:n.value,dia:a.getDate(),mes:c,anio:a.getFullYear()};this.smgService.updIngresosInv(d).subscribe(l=>{if(l.error){const h=l.error.errors[0].msg,g=l.error.errors[0].param||"";u().fire({icon:"error",title:"Oops..."+g,text:h})}else u().fire({icon:"success",title:"Actualizaci\xf3n correcta",text:l.statusDescription}).then(h=>{this.miForm.reset(),this.limpiarInfo()})})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(r.qu),t.Y36(Z.G))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-upd-ingreso"]],decls:18,vars:8,consts:[[1,"container"],[1,"example-form","form-floating","p-2","m-2"],[1,"m-3","example-full-width"],["type","text","placeholder","","aria-label","Producto a buscar","matInput","",1,"example-full-width",3,"formControl","matAutocomplete","ngModel","ngModelChange","focus"],[1,"example-full-width"],["auto","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],["mat-stroked-button","","color","primary",1,"m-2",3,"click"],["class","container",4,"ngIf"],["class","container form-control form-floating",4,"ngIf"],[3,"value","click"],[1,"table","table-striped","table-hover"],[4,"ngFor","ngForOf"],["type","button","data-bs-toggle","modal","data-bs-target","#loadImagePerfil",1,"btn","btn-warning","btn-sm",3,"click"],[1,"container","form-control","form-floating"],["action","",3,"formGroup"],[1,"form-floating","m-3"],["id","producto","formControlName","producto",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["for","producto"],["type","number","id","floatingInput","placeholder","Cantidad","formControlName","cantidad",1,"form-control"],["for","floatingInput"],["class","form-text text-danger",4,"ngIf"],["type","number","id","floatingInput","placeholder","Precio","formControlName","Precio",1,"form-control"],[1,"m-3"],["matInput","","placeholder","Fecha DD/MM/YYYY","formControlName","fecha",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["class","form-floating m-5 p-1",4,"ngIf"],[3,"value"],[1,"form-text","text-danger"],[1,"form-floating","m-5","p-1"],[1,"float-md-end","m-3"],[1,"btn","btn-outline-danger",3,"click"]],template:function(o,i){if(1&o&&(t.TgZ(0,"div",0)(1,"h1"),t._uU(2,"Actualizaci\xf3n ingresos de inventario"),t.qZA(),t._UZ(3,"hr"),t.TgZ(4,"div",0)(5,"form",1)(6,"mat-form-field",2)(7,"mat-label"),t._uU(8,"Producto a buscar"),t.qZA(),t.TgZ(9,"input",3),t.NdJ("ngModelChange",function(a){return i.criterio=a})("focus",function(){return i.limpiarInfo()}),t.qZA(),t.TgZ(10,"mat-autocomplete",4,5),t.YNc(12,po,2,2,"mat-option",6),t.ALo(13,"async"),t.qZA()(),t.TgZ(14,"button",7),t.NdJ("click",function(){return i.loadInfo()}),t._uU(15,"Seleccionar"),t.qZA()()(),t.YNc(16,_o,18,1,"div",8),t.qZA(),t.YNc(17,Io,26,7,"div",9)),2&o){const n=t.MAs(11);t.xp6(9),t.Q6J("formControl",i.myControl)("matAutocomplete",n)("ngModel",i.criterio),t.xp6(3),t.Q6J("ngForOf",t.lcZ(13,6,i.filteredOptions)),t.xp6(4),t.Q6J("ngIf",i.forLoad),t.xp6(1),t.Q6J("ngIf",i.editar)}},directives:[r._Y,r.JL,r.F,f.KE,f.hX,b.Nt,r.Fj,_.ZL,r.JJ,r.oH,_.XC,m.sg,x.ey,T.lW,m.O5,r.sg,r.EJ,r.u,r.YN,r.Kr,r.wV,A.hl,A.nW,f.R9,A.Mq],pipes:[m.Ov],styles:[".example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}"]}),e})(),canActivate:[p.z],canLoad:[p.z]},{path:"deleteStock",component:(()=>{class e{constructor(o,i){this.fb=o,this.smgService=i,this.miForm=this.fb.group({producto:[,[r.kI.required]],cantidad:[0,[r.kI.required,r.kI.min(0)]],Precio:[0,[r.kI.required,r.kI.min(0)]],fecha:[0,[r.kI.required]]}),this.productosL=[],this.StockInL=[],this.entradas=[],this.myControl=new r.NI,this.criterio="",this.productoO=[],this.forQuery=!1,this.forLoad=!1,this.editar=!1}ngOnInit(){this.loadProductos(),this.loadStockIn(),this.filteredOptions=this.myControl.valueChanges.pipe((0,I.U)(o=>this._filter(o)))}_filter(o){(0,C.b)(200);const i=o.toLowerCase();return this.productosL.filter(n=>{var a;return null===(a=n.producto)||void 0===a?void 0:a.toLowerCase().includes(i)})||{producto:"No hay coincidencias"}}selectForQuery(o){this.forQuery=!0,localStorage.setItem("search",JSON.stringify(o))}loadProductos(){this.smgService.getAllProducts().subscribe(o=>{o.productos&&(this.productosL=o.productos[0])})}loadStockIn(){this.smgService.getAllIngresosInv().subscribe(o=>{o.entradas&&(this.StockInL=o.entradas[0])})}infoModal(o){var i,n,a;this.selectedStockIn=o,null===(i=this.miForm.get("cantidad"))||void 0===i||i.setValue(o.cantidad),null===(n=this.miForm.get("Precio"))||void 0===n||n.setValue(o.Precio);const d=new Date(o.anio||1900,o.mes?o.mes-1:1,o.dia||1);null===(a=this.miForm.get("fecha"))||void 0===a||a.setValue(d),this.forLoad=!1,this.editar=!0}loadInfo(){var o;this.forQuery?(this.selectedProduct=JSON.parse(localStorage.getItem("search")||""),this.entradas=this.StockInL.filter(i=>i.producto===this.selectedProduct.idProductos),0!==this.entradas.length?(null===(o=this.miForm.get("producto"))||void 0===o||o.setValue(this.selectedProduct.idProductos),this.miForm.disable(),this.forLoad=!0):u().fire({text:"No hay registros",icon:"warning"})):u().fire({text:"No has seleccionado un producto aun",icon:"warning"})}limpiarInfo(){this.loadStockIn(),this.forLoad=!1,this.forQuery=!1,localStorage.removeItem("search"),this.miForm.reset(),this.miForm.disable(),this.editar=!1}ValidaCampo(o){return this.miForm.controls[o].errors&&this.miForm.controls[o].touched}deleteStockIn(){this.miForm.invalid?u().fire({icon:"info",title:"Oops...",text:"Hay cosas por corregir"}).then(i=>{this.miForm.markAllAsTouched()}):this.smgService.delIngresosInv({idingresosInventario:this.selectedStockIn.idingresosInventario}).subscribe(i=>{if(i.error){const n=i.error.errors[0].msg,a=i.error.errors[0].param||"";u().fire({icon:"error",title:"Oops..."+a,text:n})}else u().fire({icon:"success",title:"Eliminaci\xf3n correcta",text:i.statusDescription}).then(n=>{this.miForm.reset(),this.limpiarInfo()})})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(r.qu),t.Y36(Z.G))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-del-ingreso"]],decls:18,vars:8,consts:[[1,"container"],[1,"example-form","form-floating","p-2","m-2"],[1,"m-3","example-full-width"],["type","text","placeholder","","aria-label","Producto a buscar","matInput","",1,"example-full-width",3,"formControl","matAutocomplete","ngModel","ngModelChange","focus"],[1,"example-full-width"],["auto","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],["mat-stroked-button","","color","primary",1,"m-2",3,"click"],["class","container",4,"ngIf"],["class","container form-control form-floating",4,"ngIf"],[3,"value","click"],[1,"table","table-striped","table-hover"],[4,"ngFor","ngForOf"],["type","button","data-bs-toggle","modal","data-bs-target","#loadImagePerfil",1,"btn","btn-danger","btn-sm",3,"click"],[1,"container","form-control","form-floating"],["action","",3,"formGroup"],[1,"form-floating","m-3"],["id","producto","formControlName","producto",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["for","producto"],["type","number","id","floatingInput","placeholder","Cantidad","formControlName","cantidad",1,"form-control"],["for","floatingInput"],["class","form-text text-danger",4,"ngIf"],["type","number","id","floatingInput","placeholder","Precio","formControlName","Precio",1,"form-control"],[1,"m-3"],["matInput","","placeholder","Fecha DD/MM/YYYY","formControlName","fecha",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["class","form-floating m-5 p-1",4,"ngIf"],[3,"value"],[1,"form-text","text-danger"],[1,"form-floating","m-5","p-1"],[1,"float-md-end","m-3"],[1,"btn","btn-outline-danger",3,"click"]],template:function(o,i){if(1&o&&(t.TgZ(0,"div",0)(1,"h1"),t._uU(2,"Eliminaci\xf3n ingresos de inventario"),t.qZA(),t._UZ(3,"hr"),t.TgZ(4,"div",0)(5,"form",1)(6,"mat-form-field",2)(7,"mat-label"),t._uU(8,"Producto a buscar"),t.qZA(),t.TgZ(9,"input",3),t.NdJ("ngModelChange",function(a){return i.criterio=a})("focus",function(){return i.limpiarInfo()}),t.qZA(),t.TgZ(10,"mat-autocomplete",4,5),t.YNc(12,bo,2,2,"mat-option",6),t.ALo(13,"async"),t.qZA()(),t.TgZ(14,"button",7),t.NdJ("click",function(){return i.loadInfo()}),t._uU(15,"Seleccionar"),t.qZA()()(),t.YNc(16,To,18,1,"div",8),t.qZA(),t.YNc(17,Uo,26,7,"div",9)),2&o){const n=t.MAs(11);t.xp6(9),t.Q6J("formControl",i.myControl)("matAutocomplete",n)("ngModel",i.criterio),t.xp6(3),t.Q6J("ngForOf",t.lcZ(13,6,i.filteredOptions)),t.xp6(4),t.Q6J("ngIf",i.forLoad),t.xp6(1),t.Q6J("ngIf",i.editar)}},directives:[r._Y,r.JL,r.F,f.KE,f.hX,b.Nt,r.Fj,_.ZL,r.JJ,r.oH,_.XC,m.sg,x.ey,T.lW,m.O5,r.sg,r.EJ,r.u,r.YN,r.Kr,r.wV,A.hl,A.nW,f.R9,A.Mq],pipes:[m.Ov],styles:[".example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}"]}),e})(),canActivate:[p.z],canLoad:[p.z]},{path:"createServicio",component:(()=>{class e{constructor(o,i){this.fb=o,this.smgService=i,this.miForm=this.fb.group({servicio:["",[r.kI.required,r.kI.minLength(3)]],descripcion:["",[r.kI.required,r.kI.minLength(3)]],precio:[0,[r.kI.required,r.kI.min(1)]],impuesto:[19,[r.kI.required,r.kI.min(0)]],descuento:[0,[r.kI.required,r.kI.min(0)]]})}ngOnInit(){}ValidaCampo(o){return this.miForm.controls[o].errors&&this.miForm.controls[o].touched}crearServicio(){var o,i,n,a,c;if(this.miForm.invalid)return void u().fire({icon:"info",title:"Oops...",text:"Hay cosas por corregir"}).then(l=>{this.miForm.markAllAsTouched()});const d={servicio:null===(o=this.miForm.get("servicio"))||void 0===o?void 0:o.value,descripcion:null===(i=this.miForm.get("descripcion"))||void 0===i?void 0:i.value,precio:null===(n=this.miForm.get("precio"))||void 0===n?void 0:n.value,impuesto:null===(a=this.miForm.get("impuesto"))||void 0===a?void 0:a.value,descuento:null===(c=this.miForm.get("descuento"))||void 0===c?void 0:c.value};this.smgService.cServicios(d).subscribe(l=>{if(l.error){const h=l.error.errors[0].msg,g=l.error.errors[0].param;u().fire({icon:"error",title:"Oops..."+g,text:h})}else u().fire({icon:"success",title:"Creaci\xf3n correcta",text:l.statusDescription}).then(h=>{this.miForm.reset()})})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(r.qu),t.Y36(Z.G))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-servicios"]],decls:35,vars:6,consts:[[1,"container"],[1,"container","form-control","form-floating"],["action","",3,"formGroup"],[1,"form-floating","m-3"],["type","text","id","floatingInput","placeholder","Nombre servicio","formControlName","servicio",1,"form-control"],["for","floatingInput"],["class","form-text text-danger",4,"ngIf"],["type","text","id","floatingInput","placeholder","Descripci\xf3n","formControlName","descripcion",1,"form-control"],["type","number","id","floatingInput","placeholder","Precio","formControlName","precio",1,"form-control"],["type","number","id","floatingInput","placeholder","% Impuesto","formControlName","impuesto",1,"form-control"],["type","number","id","floatingInput","placeholder","% Descuento","formControlName","descuento",1,"form-control"],[1,"form-floating","m-5","p-1"],[1,"float-md-end"],[1,"btn","btn-outline-primary",3,"click"],[1,"form-text","text-danger"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"h1"),t._uU(2,"Creaci\xf3n de servicios"),t.qZA(),t._UZ(3,"hr"),t.TgZ(4,"div",1)(5,"form",2)(6,"div",3),t._UZ(7,"input",4),t.TgZ(8,"label",5),t._uU(9,"Nombre servicio"),t.qZA(),t.YNc(10,No,2,0,"span",6),t.qZA(),t.TgZ(11,"div",3),t._UZ(12,"input",7),t.TgZ(13,"label",5),t._uU(14,"Descripci\xf3n"),t.qZA(),t.YNc(15,Jo,2,0,"span",6),t.qZA(),t.TgZ(16,"div",3),t._UZ(17,"input",8),t.TgZ(18,"label",5),t._uU(19,"Precio"),t.qZA(),t.YNc(20,So,2,0,"span",6),t.qZA(),t.TgZ(21,"div",3),t._UZ(22,"input",9),t.TgZ(23,"label",5),t._uU(24,"% Impuesto"),t.qZA(),t.YNc(25,Po,2,0,"span",6),t.qZA(),t.TgZ(26,"div",3),t._UZ(27,"input",10),t.TgZ(28,"label",5),t._uU(29,"% Descuento"),t.qZA(),t.YNc(30,Oo,2,0,"span",6),t.qZA(),t.TgZ(31,"div",11)(32,"div",12)(33,"button",13),t.NdJ("click",function(){return i.crearServicio()}),t._uU(34,"Guardar"),t.qZA()()()()()()),2&o&&(t.xp6(5),t.Q6J("formGroup",i.miForm),t.xp6(5),t.Q6J("ngIf",i.ValidaCampo("servicio")),t.xp6(5),t.Q6J("ngIf",i.ValidaCampo("descripcion")),t.xp6(5),t.Q6J("ngIf",i.ValidaCampo("precio")),t.xp6(5),t.Q6J("ngIf",i.ValidaCampo("impuesto")),t.xp6(5),t.Q6J("ngIf",i.ValidaCampo("descuento")))},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,m.O5,r.wV],encapsulation:2}),e})(),canActivate:[p.z],canLoad:[p.z]},{path:"findServicio",component:(()=>{class e{constructor(o,i){this.fb=o,this.smgService=i,this.myControl=new r.NI,this.criterio="",this.productosO=[],this.forQuery=!1,this.forLoad=!1,this.editar=!1,this.miForm=this.fb.group({servicio:["",[r.kI.required,r.kI.minLength(3)]],descripcion:["",[r.kI.required,r.kI.minLength(3)]],precio:[0,[r.kI.required,r.kI.min(1)]],impuesto:[19,[r.kI.required,r.kI.min(0)]],descuento:[0,[r.kI.required,r.kI.min(0)]]})}ngOnInit(){this.filteredOptions=this.myControl.valueChanges.pipe((0,I.U)(o=>this._filter(o)))}_filter(o){(0,C.b)(200),""!=this.criterio&&this.smgService.getServicios(this.criterio).subscribe(n=>{n.error&&(this.productosO=[]),this.productosO=n.servicios[0]});const i=o.toLowerCase();return 0===this.productosO.length?[{servicio:"No hay coincidencias"}]:this.productosO.filter(n=>{var a;return null===(a=n.servicio)||void 0===a?void 0:a.toLowerCase().includes(i)})||{nombre:"No hay coincidencias"}}selectForQuery(o){this.forQuery=!0,localStorage.setItem("search",JSON.stringify(o))}limpiarInfo(){this.selectedItem={},this.forLoad=!1,this.forQuery=!1,localStorage.removeItem("search"),this.miForm.reset(),this.miForm.disable(),this.editar=!1}loadInfo(){var o,i,n,a,c;this.forQuery?(this.selectedItem=JSON.parse(localStorage.getItem("search")||""),null===(o=this.miForm.get("servicio"))||void 0===o||o.setValue(this.selectedItem.servicio),null===(i=this.miForm.get("descripcion"))||void 0===i||i.setValue(this.selectedItem.descripcion),null===(n=this.miForm.get("precio"))||void 0===n||n.setValue(this.selectedItem.precio),null===(a=this.miForm.get("impuesto"))||void 0===a||a.setValue(this.selectedItem.impuesto),null===(c=this.miForm.get("descuento"))||void 0===c||c.setValue(this.selectedItem.descuento),this.miForm.disable(),this.forLoad=!0):u().fire({text:"No has seleccionado un producto aun",icon:"warning"})}ValidaCampo(o){return this.miForm.controls[o].errors&&this.miForm.controls[o].touched}editable(){this.editar=!0,this.miForm.enable()}cancelar(){this.editar=!1,this.miForm.reset(),this.limpiarInfo()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(r.qu),t.Y36(Z.G))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-find-servicio"]],decls:17,vars:7,consts:[[1,"container"],[1,"example-form","form-floating","p-2","m-2"],[1,"m-3","example-full-width"],["type","text","placeholder","","aria-label","Criterio de b\xfasqueda","matInput","",1,"example-full-width",3,"formControl","matAutocomplete","ngModel","ngModelChange","focus"],[1,"example-full-width"],["auto","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],["mat-stroked-button","","color","primary",1,"m-2",3,"click"],["class","container form-control form-floating",4,"ngIf"],[3,"value","click"],[1,"container","form-control","form-floating"],["action","",3,"formGroup"],[1,"form-floating","m-3"],["type","text","id","floatingInput","placeholder","Nombre servicio","formControlName","servicio",1,"form-control"],["for","floatingInput"],["class","form-text text-danger",4,"ngIf"],["type","text","id","floatingInput","placeholder","Descripci\xf3n","formControlName","descripcion",1,"form-control"],["type","number","id","floatingInput","placeholder","Precio","formControlName","precio",1,"form-control"],["type","number","id","floatingInput","placeholder","% Impuesto","formControlName","impuesto",1,"form-control"],["type","number","id","floatingInput","placeholder","% Descuento","formControlName","descuento",1,"form-control"],[1,"form-text","text-danger"]],template:function(o,i){if(1&o&&(t.TgZ(0,"div",0)(1,"h1"),t._uU(2,"B\xfasqueda de servicios"),t.qZA(),t._UZ(3,"hr"),t.TgZ(4,"div",0)(5,"form",1)(6,"mat-form-field",2)(7,"mat-label"),t._uU(8,"Criterio de b\xfasqueda"),t.qZA(),t.TgZ(9,"input",3),t.NdJ("ngModelChange",function(a){return i.criterio=a})("focus",function(){return i.limpiarInfo()}),t.qZA(),t.TgZ(10,"mat-autocomplete",4,5),t.YNc(12,wo,2,2,"mat-option",6),t.ALo(13,"async"),t.qZA()(),t.TgZ(14,"button",7),t.NdJ("click",function(){return i.loadInfo()}),t._uU(15,"Visualizar"),t.qZA()()(),t.YNc(16,Do,27,6,"div",8),t.qZA()),2&o){const n=t.MAs(11);t.xp6(9),t.Q6J("formControl",i.myControl)("matAutocomplete",n)("ngModel",i.criterio),t.xp6(3),t.Q6J("ngForOf",t.lcZ(13,5,i.filteredOptions)),t.xp6(4),t.Q6J("ngIf",i.forLoad)}},directives:[r._Y,r.JL,r.F,f.KE,f.hX,b.Nt,r.Fj,_.ZL,r.JJ,r.oH,_.XC,m.sg,x.ey,T.lW,m.O5,r.sg,r.u,r.wV],pipes:[m.Ov],styles:[".example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}"]}),e})(),canActivate:[p.z],canLoad:[p.z]},{path:"deleteServicio",component:(()=>{class e{constructor(o,i){this.fb=o,this.smgService=i,this.myControl=new r.NI,this.criterio="",this.productosO=[],this.forQuery=!1,this.forLoad=!1,this.editar=!1,this.miForm=this.fb.group({servicio:["",[r.kI.required,r.kI.minLength(3)]],descripcion:["",[r.kI.required,r.kI.minLength(3)]],precio:[0,[r.kI.required,r.kI.min(1)]],impuesto:[19,[r.kI.required,r.kI.min(0)]],descuento:[0,[r.kI.required,r.kI.min(0)]]})}ngOnInit(){this.filteredOptions=this.myControl.valueChanges.pipe((0,I.U)(o=>this._filter(o)))}_filter(o){(0,C.b)(200),""!=this.criterio&&this.smgService.getServicios(this.criterio).subscribe(n=>{n.error&&(this.productosO=[]),this.productosO=n.servicios[0]});const i=o.toLowerCase();return 0===this.productosO.length?[{servicio:"No hay coincidencias"}]:this.productosO.filter(n=>{var a;return null===(a=n.servicio)||void 0===a?void 0:a.toLowerCase().includes(i)})||{nombre:"No hay coincidencias"}}selectForQuery(o){this.forQuery=!0,localStorage.setItem("search",JSON.stringify(o))}limpiarInfo(){this.selectedItem={},this.forLoad=!1,this.forQuery=!1,localStorage.removeItem("search"),this.miForm.reset(),this.miForm.disable(),this.editar=!1}loadInfo(){var o,i,n,a,c;this.forQuery?(this.selectedItem=JSON.parse(localStorage.getItem("search")||""),null===(o=this.miForm.get("servicio"))||void 0===o||o.setValue(this.selectedItem.servicio),null===(i=this.miForm.get("descripcion"))||void 0===i||i.setValue(this.selectedItem.descripcion),null===(n=this.miForm.get("precio"))||void 0===n||n.setValue(this.selectedItem.precio),null===(a=this.miForm.get("impuesto"))||void 0===a||a.setValue(this.selectedItem.impuesto),null===(c=this.miForm.get("descuento"))||void 0===c||c.setValue(this.selectedItem.descuento),this.miForm.disable(),this.forLoad=!0):u().fire({text:"No has seleccionado un producto aun",icon:"warning"})}ValidaCampo(o){return this.miForm.controls[o].errors&&this.miForm.controls[o].touched}editable(){this.editar=!0}cancelar(){this.editar=!1,this.miForm.reset(),this.limpiarInfo()}deleteServicio(){this.miForm.invalid?u().fire({icon:"info",title:"Oops...",text:"Hay cosas por corregir"}).then(i=>{this.miForm.markAllAsTouched()}):this.smgService.delServicios({idServicios:this.selectedItem.idServicios}).subscribe(i=>{if(i.error){const n=i.error.errors[0].msg,a=i.error.errors[0].param||"";u().fire({icon:"error",title:"Oops..."+a,text:n})}else u().fire({icon:"success",title:"Eliminaci\xf3n correcta",text:i.statusDescription}).then(n=>{this.productosO=[],this.criterio="",this.limpiarInfo()})})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(r.qu),t.Y36(Z.G))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-del-servicio"]],decls:18,vars:8,consts:[[1,"container"],[1,"example-form","form-floating","p-2","m-2"],[1,"m-3","example-full-width"],["type","text","placeholder","","aria-label","Criterio de b\xfasqueda","matInput","",1,"example-full-width",3,"formControl","matAutocomplete","ngModel","ngModelChange","focus"],[1,"example-full-width"],["auto","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],["mat-stroked-button","","color","primary",1,"m-2",3,"click"],["mat-stroked-button","","color","warn","class","m-2",3,"click",4,"ngIf"],["class","container form-control form-floating",4,"ngIf"],[3,"value","click"],["mat-stroked-button","","color","warn",1,"m-2",3,"click"],[1,"container","form-control","form-floating"],["action","",3,"formGroup"],[1,"form-floating","m-3"],["type","text","id","floatingInput","placeholder","Nombre servicio","formControlName","servicio",1,"form-control"],["for","floatingInput"],["class","form-text text-danger",4,"ngIf"],["type","text","id","floatingInput","placeholder","Descripci\xf3n","formControlName","descripcion",1,"form-control"],["type","number","id","floatingInput","placeholder","Precio","formControlName","precio",1,"form-control"],["type","number","id","floatingInput","placeholder","% Impuesto","formControlName","impuesto",1,"form-control"],["type","number","id","floatingInput","placeholder","% Descuento","formControlName","descuento",1,"form-control"],["class","form-floating m-5 p-1",4,"ngIf"],[1,"form-text","text-danger"],[1,"form-floating","m-5","p-1"],[1,"float-md-end","m-3"],[1,"btn","btn-outline-danger",3,"click"],[1,"btn","btn-outline-secondary",3,"click"]],template:function(o,i){if(1&o&&(t.TgZ(0,"div",0)(1,"h1"),t._uU(2,"B\xfasqueda de servicios"),t.qZA(),t._UZ(3,"hr"),t.TgZ(4,"div",0)(5,"form",1)(6,"mat-form-field",2)(7,"mat-label"),t._uU(8,"Criterio de b\xfasqueda"),t.qZA(),t.TgZ(9,"input",3),t.NdJ("ngModelChange",function(a){return i.criterio=a})("focus",function(){return i.limpiarInfo()}),t.qZA(),t.TgZ(10,"mat-autocomplete",4,5),t.YNc(12,Go,2,2,"mat-option",6),t.ALo(13,"async"),t.qZA()(),t.TgZ(14,"button",7),t.NdJ("click",function(){return i.loadInfo()}),t._uU(15,"Visualizar"),t.qZA(),t.YNc(16,zo,2,0,"button",8),t.qZA()(),t.YNc(17,Ro,28,7,"div",9),t.qZA()),2&o){const n=t.MAs(11);t.xp6(9),t.Q6J("formControl",i.myControl)("matAutocomplete",n)("ngModel",i.criterio),t.xp6(3),t.Q6J("ngForOf",t.lcZ(13,6,i.filteredOptions)),t.xp6(4),t.Q6J("ngIf",i.forLoad),t.xp6(1),t.Q6J("ngIf",i.forLoad)}},directives:[r._Y,r.JL,r.F,f.KE,f.hX,b.Nt,r.Fj,_.ZL,r.JJ,r.oH,_.XC,m.sg,x.ey,T.lW,m.O5,r.sg,r.u,r.wV],pipes:[m.Ov],styles:[".example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}"]}),e})(),canActivate:[p.z],canLoad:[p.z]},{path:"updateServicio",component:(()=>{class e{constructor(o,i){this.fb=o,this.smgService=i,this.myControl=new r.NI,this.criterio="",this.productosO=[],this.forQuery=!1,this.forLoad=!1,this.editar=!1,this.miForm=this.fb.group({servicio:["",[r.kI.required,r.kI.minLength(3)]],descripcion:["",[r.kI.required,r.kI.minLength(3)]],precio:[0,[r.kI.required,r.kI.min(1)]],impuesto:[19,[r.kI.required,r.kI.min(0)]],descuento:[0,[r.kI.required,r.kI.min(0)]]})}ngOnInit(){this.filteredOptions=this.myControl.valueChanges.pipe((0,I.U)(o=>this._filter(o)))}_filter(o){(0,C.b)(200),""!=this.criterio&&this.smgService.getServicios(this.criterio).subscribe(n=>{n.error&&(this.productosO=[]),this.productosO=n.servicios[0]});const i=o.toLowerCase();return 0===this.productosO.length?[{servicio:"No hay coincidencias"}]:this.productosO.filter(n=>{var a;return null===(a=n.servicio)||void 0===a?void 0:a.toLowerCase().includes(i)})||{nombre:"No hay coincidencias"}}selectForQuery(o){this.forQuery=!0,localStorage.setItem("search",JSON.stringify(o))}limpiarInfo(){this.selectedItem={},this.forLoad=!1,this.forQuery=!1,localStorage.removeItem("search"),this.miForm.reset(),this.miForm.disable(),this.editar=!1}loadInfo(){var o,i,n,a,c;this.forQuery?(this.selectedItem=JSON.parse(localStorage.getItem("search")||""),null===(o=this.miForm.get("servicio"))||void 0===o||o.setValue(this.selectedItem.servicio),null===(i=this.miForm.get("descripcion"))||void 0===i||i.setValue(this.selectedItem.descripcion),null===(n=this.miForm.get("precio"))||void 0===n||n.setValue(this.selectedItem.precio),null===(a=this.miForm.get("impuesto"))||void 0===a||a.setValue(this.selectedItem.impuesto),null===(c=this.miForm.get("descuento"))||void 0===c||c.setValue(this.selectedItem.descuento),this.miForm.disable(),this.forLoad=!0):u().fire({text:"No has seleccionado un producto aun",icon:"warning"})}ValidaCampo(o){return this.miForm.controls[o].errors&&this.miForm.controls[o].touched}editable(){this.editar=!0,this.miForm.enable()}cancelar(){this.editar=!1,this.miForm.reset(),this.limpiarInfo()}updateServicio(){var o,i,n,a,c;if(this.miForm.invalid)return void u().fire({icon:"info",title:"Oops...",text:"Hay cosas por corregir"}).then(l=>{this.miForm.markAllAsTouched()});const d={idServicios:this.selectedItem.idServicios,servicio:null===(o=this.miForm.get("servicio"))||void 0===o?void 0:o.value,descripcion:null===(i=this.miForm.get("descripcion"))||void 0===i?void 0:i.value,precio:null===(n=this.miForm.get("precio"))||void 0===n?void 0:n.value,impuesto:null===(a=this.miForm.get("impuesto"))||void 0===a?void 0:a.value,descuento:null===(c=this.miForm.get("descuento"))||void 0===c?void 0:c.value};this.smgService.updServicios(d).subscribe(l=>{if(l.error){const h=l.error.errors[0].msg,g=l.error.errors[0].param||"";u().fire({icon:"error",title:"Oops..."+g,text:h})}else u().fire({icon:"success",title:"Actualizaci\xf3n correcta",text:l.statusDescription}).then(h=>{this.limpiarInfo()})})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(r.qu),t.Y36(Z.G))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-upd-servicio"]],decls:18,vars:8,consts:[[1,"container"],[1,"example-form","form-floating","p-2","m-2"],[1,"m-3","example-full-width"],["type","text","placeholder","","aria-label","Criterio de b\xfasqueda","matInput","",1,"example-full-width",3,"formControl","matAutocomplete","ngModel","ngModelChange","focus"],[1,"example-full-width"],["auto","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],["mat-stroked-button","","color","primary",1,"m-2",3,"click"],["mat-stroked-button","","color","warn","class","m-2",3,"click",4,"ngIf"],["class","container form-control form-floating",4,"ngIf"],[3,"value","click"],["mat-stroked-button","","color","warn",1,"m-2",3,"click"],[1,"container","form-control","form-floating"],["action","",3,"formGroup"],[1,"form-floating","m-3"],["type","text","id","floatingInput","placeholder","Nombre servicio","formControlName","servicio",1,"form-control"],["for","floatingInput"],["class","form-text text-danger",4,"ngIf"],["type","text","id","floatingInput","placeholder","Descripci\xf3n","formControlName","descripcion",1,"form-control"],["type","number","id","floatingInput","placeholder","Precio","formControlName","precio",1,"form-control"],["type","number","id","floatingInput","placeholder","% Impuesto","formControlName","impuesto",1,"form-control"],["type","number","id","floatingInput","placeholder","% Descuento","formControlName","descuento",1,"form-control"],["class","form-floating m-5 p-1",4,"ngIf"],[1,"form-text","text-danger"],[1,"form-floating","m-5","p-1"],[1,"float-md-end","m-3"],[1,"btn","btn-outline-success",3,"click"],[1,"btn","btn-outline-secondary",3,"click"]],template:function(o,i){if(1&o&&(t.TgZ(0,"div",0)(1,"h1"),t._uU(2,"B\xfasqueda de servicios"),t.qZA(),t._UZ(3,"hr"),t.TgZ(4,"div",0)(5,"form",1)(6,"mat-form-field",2)(7,"mat-label"),t._uU(8,"Criterio de b\xfasqueda"),t.qZA(),t.TgZ(9,"input",3),t.NdJ("ngModelChange",function(a){return i.criterio=a})("focus",function(){return i.limpiarInfo()}),t.qZA(),t.TgZ(10,"mat-autocomplete",4,5),t.YNc(12,oe,2,2,"mat-option",6),t.ALo(13,"async"),t.qZA()(),t.TgZ(14,"button",7),t.NdJ("click",function(){return i.loadInfo()}),t._uU(15,"Visualizar"),t.qZA(),t.YNc(16,ee,2,0,"button",8),t.qZA()(),t.YNc(17,le,28,7,"div",9),t.qZA()),2&o){const n=t.MAs(11);t.xp6(9),t.Q6J("formControl",i.myControl)("matAutocomplete",n)("ngModel",i.criterio),t.xp6(3),t.Q6J("ngForOf",t.lcZ(13,6,i.filteredOptions)),t.xp6(4),t.Q6J("ngIf",i.forLoad),t.xp6(1),t.Q6J("ngIf",i.forLoad)}},directives:[r._Y,r.JL,r.F,f.KE,f.hX,b.Nt,r.Fj,_.ZL,r.JJ,r.oH,_.XC,m.sg,x.ey,T.lW,m.O5,r.sg,r.u,r.wV],pipes:[m.Ov],styles:[".example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}"]}),e})(),canActivate:[p.z],canLoad:[p.z]}]}];let me=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[F.Bz.forChild(de)],F.Bz]}),e})();var pe=v(7547);let fe=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[],imports:[[m.ez,me,pe.q,r.UX,r.u5]]}),e})()}}]);